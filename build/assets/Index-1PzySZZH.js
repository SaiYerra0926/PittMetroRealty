import{j as n,r as D}from"./ui-DVJ6EJIP.js";import{c as ot,L as Ti,l as zr,X as We,u as Er,a as Ar,b as Ir}from"./index-DkJHlla0.js";import{P as ie,C as et,a as xt,B as Q,b as qe,c as Ot,I as St}from"./input-ChnHsgXA.js";import{M as Ue,D as Or}from"./mail-DwvALy0y.js";import{b as Ks,B as Ys,K as Br,S as Zr,E as Rr,P as Dr,H as Fr}from"./PropertyDetailsModal-BFCWIAzh.js";import{T as Ci}from"./trending-up-Cezt1-uU.js";import{H as Ne,C as Hr,M as se,B as Js,a as Xs}from"./tabs-DUZPA5lN.js";import{U as zi}from"./users-Cv30ucgR.js";import{S as ne,B as pt}from"./badge-wObxNSgV.js";import{g as Wr}from"./react-D3F3s8fL.js";import{N as qr}from"./navigation-ORiuhvvF.js";import{S as Mi}from"./shield-Bhko-v2X.js";import{C as Ei,a as Ur}from"./index-rgNyJsh6.js";import{T as Qs}from"./textarea-CmIK9knB.js";import{L as Qt,U as Gr}from"./label-BlUdLWb5.js";import{A as Gs}from"./award-CElcMg4t.js";import"./index-aux-f1nc.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ot("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ot("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ot("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ot("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ot("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ot("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ot("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=ot("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ot("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ot("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ea=""+new URL("pittmetrorealtylog_no_bg-DbJQmGJR.png",import.meta.url).href,en=({className:u="",size:_="md",variant:c="full",theme:w="light",logoNoBg:g=!1})=>{const f={sm:"h-12 w-auto",md:"h-16 w-auto",lg:"h-24 w-auto",xl:"h-32 w-auto"},v=()=>n.jsx("div",{className:`${f[_]} ${u} flex items-center justify-center bg-transparent`,children:n.jsx("img",{src:g?ea:zr,alt:"Pittmetro Realty Logo",className:`${f[_]} object-contain bg-transparent`,style:{maxWidth:"none",background:"transparent"}})}),x=()=>n.jsx(Ti,{to:"/",className:`flex items-center gap-3 sm:gap-4 ${u}`,children:n.jsx(v,{})}),m=()=>n.jsx(Ti,{to:"/",className:`flex items-center ${u}`,children:n.jsx(v,{})});switch(c){case"icon":return n.jsx(Ti,{to:"/",children:n.jsx(v,{})});case"text":return n.jsx(m,{});case"full":default:return n.jsx(x,{})}},ia=()=>{const[u,_]=D.useState(!1),[c,w]=D.useState("home"),g=[{label:"Home",href:"#home"},{label:"Properties",href:"#properties"},{label:"Services",href:"#services"},{label:"About",href:"#about"},{label:"Contact",href:"#contact"}];D.useEffect(()=>{const v=()=>{const x=g.map(H=>document.querySelector(H.href)).filter(Boolean),m=window.scrollY+200;x.forEach((H,z)=>{if(H){const E=H.getBoundingClientRect(),U=E.top+window.scrollY,gt=U+E.height;m>=U&&m<gt&&w(g[z].href.replace("#",""))}})};return window.addEventListener("scroll",v),v(),()=>window.removeEventListener("scroll",v)},[]);const f=v=>{const x=document.querySelector(v);x&&x.scrollIntoView({behavior:"smooth",block:"start"}),_(!1)};return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-100/95 backdrop-blur-md shadow-lg border-b border-slate-200 safe-top",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:[n.jsxs("nav",{className:"flex items-center justify-between py-2 sm:py-2.5 md:py-3 gap-2 sm:gap-3",children:[n.jsx("div",{className:"flex items-center flex-shrink-0",children:n.jsx(en,{size:"xl",logoNoBg:!0})}),n.jsx("div",{className:"hidden lg:flex items-center gap-2.5 md:gap-3 lg:gap-4 xl:gap-5",children:g.map(v=>{const x=c===v.href.replace("#","");return n.jsxs("button",{onClick:()=>f(v.href),className:`relative px-2 sm:px-3 md:px-4 py-2 font-medium text-xs sm:text-sm transition-all duration-300 hover:scale-105 group touch-target ${x?"text-primary":"text-slate-800 hover:text-primary"}`,children:[v.label,x&&n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary rounded-full animate-slide-in-scale"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary rounded-full transition-all duration-300 group-hover:w-full"})]},v.label)})}),n.jsxs("div",{className:"hidden xl:flex items-center gap-4 lg:gap-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 hover:text-primary transition-all duration-300 cursor-pointer hover:scale-105 group touch-target",children:[n.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-all duration-300",children:n.jsx(ie,{className:"h-3 w-3 text-primary"})}),n.jsx("span",{className:"text-xs xl:text-sm font-medium whitespace-nowrap",children:"+1-412-977-7090"})]}),n.jsxs("div",{className:"hidden 2xl:flex items-center gap-2 text-slate-700 hover:text-primary transition-all duration-300 cursor-pointer hover:scale-105 group touch-target",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-all duration-300",children:n.jsx(Ue,{className:"h-3 w-3 text-blue-600"})}),n.jsx("span",{className:"text-xs xl:text-sm font-medium whitespace-nowrap",children:"aggarwal_a@hotmail.com"})]})]}),n.jsx("button",{className:"xl:hidden p-2 sm:p-3 rounded-lg hover:bg-slate-100 transition-all duration-300 hover:scale-105 group touch-target min-w-[44px] min-h-[44px] flex items-center justify-center",onClick:()=>_(!u),"aria-label":"Toggle menu",children:n.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 flex items-center justify-center",children:u?n.jsx(We,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-700 group-hover:text-primary transition-all duration-300"}):n.jsx(Xr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-700 group-hover:text-primary transition-all duration-300"})})})]}),u&&n.jsx("div",{className:"xl:hidden py-4 sm:py-6 border-t border-slate-200 bg-slate-100/98 backdrop-blur-md animate-slide-in-down safe-bottom max-h-[calc(100vh-80px)] overflow-y-auto",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[g.map((v,x)=>{const m=c===v.href.replace("#","");return n.jsx("button",{onClick:()=>f(v.href),className:`py-3 sm:py-4 px-4 text-base sm:text-lg text-left font-medium transition-all duration-300 rounded-lg hover:scale-105 touch-target min-h-[48px] ${m?"text-primary bg-primary/10":"text-slate-800 hover:text-primary hover:bg-slate-100"}`,style:{animationDelay:`${x*.1}s`},children:v.label},v.label)}),n.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-200 space-y-2 sm:space-y-3",children:[n.jsxs("a",{href:"tel:+14129777090",className:"flex items-center gap-3 text-slate-700 hover:text-primary transition-all duration-300 py-3 px-4 hover:scale-105 group touch-target min-h-[48px] rounded-lg hover:bg-slate-50",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-all duration-300 flex-shrink-0",children:n.jsx(ie,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),n.jsx("span",{className:"text-base sm:text-lg font-medium",children:"+1-412-977-7090"})]}),n.jsxs("a",{href:"mailto:aggarwal_a@hotmail.com",className:"flex items-center gap-3 text-slate-700 hover:text-primary transition-all duration-300 py-3 px-4 hover:scale-105 group touch-target min-h-[48px] rounded-lg hover:bg-slate-50",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-all duration-300 flex-shrink-0",children:n.jsx(Ue,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),n.jsx("span",{className:"text-sm sm:text-base font-medium break-all",children:"aggarwal_a@hotmail.com"})]})]})]})})]})})},sa=""+new URL("hero-property-TtMZgijl.jpg",import.meta.url).href,na=()=>{const u=Er(),_=Ar(),c=()=>{const x=_.pathname;return x.includes("/sell")?"sell":x.includes("/buy")?"buy":x.includes("/rent")?"rent":x.includes("/manage")?"manage":null},[w,g]=D.useState(c());D.useEffect(()=>{const x=c();g(x!==null?x:null)},[_.pathname]);const f=[{id:"sell",label:"Sell",href:"/sell",icon:Ci},{id:"buy",label:"Buy",href:"/buy",icon:Ne},{id:"rent",label:"Rent",href:"/rent",icon:Ys},{id:"manage",label:"Manage",href:"/manage",icon:zi}],v=x=>{g(x);const m=f.find(H=>H.id===x);m&&u(m.href)};return n.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center pt-20 sm:pt-22 md:pt-24 lg:pt-26 overflow-hidden bg-gradient-to-br from-slate-800 via-gray-900 to-slate-900 safe-top",children:[n.jsxs("div",{className:"absolute inset-0 z-0",children:[n.jsx(Ks.LazyLoadImage,{src:sa,alt:"Luxury property showcase",effect:"blur",width:"100%",height:"100%",placeholderSrc:"/placeholder.svg",className:"w-full h-full object-cover animate-gradient-shift"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800/85 via-gray-900/75 to-slate-900/85"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-800/70 via-transparent to-transparent"}),n.jsx("div",{className:"hidden sm:block absolute top-20 left-10 w-20 h-20 bg-white/5 rounded-full animate-float-1"}),n.jsx("div",{className:"hidden md:block absolute top-40 right-20 w-16 h-16 bg-primary/10 rounded-full animate-float-2"}),n.jsx("div",{className:"hidden lg:block absolute bottom-40 left-20 w-24 h-24 bg-yellow-400/10 rounded-full animate-float-3"}),n.jsx("div",{className:"hidden sm:block absolute bottom-20 right-10 w-12 h-12 bg-white/10 rounded-full animate-float-4"})]}),n.jsx("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 md:px-5 lg:px-6 relative z-10 w-full py-5 sm:py-6 md:py-8",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-10 animate-fade-in-up",children:[n.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-2 sm:mb-3 md:mb-4 leading-tight px-2",children:[n.jsx("span",{className:"block animate-slide-in-left",children:"Discover"}),n.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-100 mt-2 sm:mt-3 animate-slide-in-right",children:"Exceptional Properties"})]}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-white/95 mb-4 sm:mb-6 md:mb-8 max-w-2xl mx-auto leading-relaxed animate-fade-in px-4 sm:px-6",children:"Premium properties and exceptional service with Pitt Metro Realty. Your trusted partner in real estate excellence."})]}),n.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl p-2 sm:p-2.5 md:p-3 shadow-2xl border border-white/20 animate-scale-in mx-auto max-w-2xl w-full",children:[n.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-gray-600 mb-2 sm:mb-2.5 md:mb-3 text-center font-semibold px-2",children:"Select a category to search"}),n.jsx("div",{className:"flex flex-nowrap justify-center items-center gap-1 sm:gap-1.5 md:gap-2 bg-transparent rounded-xl p-1.5 sm:p-2 md:p-2.5 w-full",children:f.map(x=>{const m=x.icon,H=w===x.id;return n.jsxs("button",{onClick:()=>v(x.id),className:`flex-1 px-2 sm:px-3 md:px-4 py-2 sm:py-2.5 md:py-3 rounded-lg font-semibold transition-all duration-200 text-[9px] sm:text-[10px] md:text-xs flex items-center justify-center gap-1 sm:gap-1.5 touch-target min-h-[40px] sm:min-h-[44px] md:min-h-[48px] relative group ${H?"bg-primary text-white shadow-md scale-[1.02] ring-1 ring-primary/50":"bg-white/90 text-gray-600 hover:text-primary hover:bg-white hover:shadow-sm hover:scale-[1.02] border border-gray-200/50"}`,"aria-pressed":H,title:`Click to explore ${x.label.toLowerCase()} properties`,children:[n.jsx(m,{className:`w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-3.5 md:h-3.5 flex-shrink-0 transition-transform duration-200 ${H?"text-white":"text-gray-500 group-hover:text-primary"}`}),n.jsx("span",{className:`text-[9px] sm:text-[10px] md:text-xs font-semibold transition-colors duration-200 whitespace-nowrap ${H?"text-white":"text-gray-600 group-hover:text-primary"}`,children:x.label}),H&&n.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 sm:w-10 h-0.5 bg-white/80 rounded-full"})]},x.id)})})]})]})})]})},Et=""+new URL("property-1-SH7T_q6N.jpg",import.meta.url).href,At=""+new URL("property-2-C_AZddTT.jpg",import.meta.url).href,It=""+new URL("property-3-Bi-YzIxh.jpg",import.meta.url).href,ra=()=>{const[u,_]=D.useState(null),[c,w]=D.useState(null),g=[{id:1,image:Et,price:"$850,000",address:"123 Oak Street, Shadyside, Pittsburgh",bedrooms:4,bathrooms:3,sqft:"2,400",type:"Single Family",yearBuilt:2018,features:["Modern Kitchen","Hardwood Floors","Garage"],amenities:["Pool","Gym","Parking"],status:"For Sale",listingType:"buy",daysOnMarket:15,rating:4.9,agent:"Sarah Johnson",description:"Stunning modern home with premium finishes and excellent location.",images:[Et,At,It]},{id:2,image:At,price:"$650,000",address:"456 Maple Avenue, Lawrenceville, Pittsburgh",bedrooms:3,bathrooms:2,sqft:"1,800",type:"Townhouse",yearBuilt:2020,features:["Open Floor Plan","Balcony","Storage"],amenities:["Rooftop","Concierge","Storage"],status:"For Sale",listingType:"buy",daysOnMarket:8,rating:4.8,agent:"Mike Chen",description:"Contemporary townhouse with urban lifestyle amenities.",images:[At,Et,It]},{id:3,image:It,price:"$1,200,000",address:"789 Pine Road, Squirrel Hill, Pittsburgh",bedrooms:5,bathrooms:4,sqft:"3,200",type:"Luxury Home",yearBuilt:2015,features:["Chef's Kitchen","Wine Cellar","Library"],amenities:["Pool","Tennis Court","Garden"],status:"For Sale",listingType:"rent",daysOnMarket:22,rating:4.9,agent:"Emily Rodriguez",description:"Luxury estate with premium amenities and privacy.",images:[It,Et,At]},{id:4,image:Et,price:"$450,000",address:"321 Elm Street, Downtown, Pittsburgh",bedrooms:2,bathrooms:2,sqft:"1,200",type:"Condominium",yearBuilt:2019,features:["City Views","Modern Design","Balcony"],amenities:["Gym","Concierge","Rooftop"],status:"For Sale",listingType:"sell",daysOnMarket:5,rating:4.7,agent:"David Kim",description:"Modern downtown living with stunning city views.",images:[Et,It,At]},{id:5,image:At,price:"$750,000",address:"654 Cedar Lane, Mount Washington, Pittsburgh",bedrooms:4,bathrooms:3,sqft:"2,100",type:"Single Family",yearBuilt:2017,features:["Mountain Views","Deck","Fireplace"],amenities:["Parking","Storage","Garden"],status:"For Sale",listingType:"buy",daysOnMarket:12,rating:4.8,agent:"Lisa Thompson",description:"Charming home with breathtaking mountain and city views.",images:[At,Et,It]},{id:6,image:It,price:"$950,000",address:"987 Birch Boulevard, Fox Chapel, Pittsburgh",bedrooms:5,bathrooms:4,sqft:"2,800",type:"Estate",yearBuilt:2016,features:["Gourmet Kitchen","Home Office","Walk-in Closets"],amenities:["Pool","Tennis Court","Guest House"],status:"For Sale",listingType:"rent",daysOnMarket:18,rating:4.9,agent:"Robert Wilson",description:"Elegant estate in prestigious neighborhood with luxury amenities.",images:[It,At,Et]}];return n.jsxs("section",{id:"properties",className:"py-6 sm:py-8 md:py-10 bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:[n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-5 lg:px-6 max-w-6xl",children:[n.jsxs("div",{className:"text-center mb-5 sm:mb-6 md:mb-8 animate-fade-in-up",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-2 sm:mb-3 md:mb-4 px-2",children:"Featured Properties"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed mb-4 sm:mb-6 px-4",children:"Discover exceptional properties in Pittsburgh's most desirable neighborhoods. Each home is carefully selected for its quality, location, and value."}),n.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2.5 sm:gap-3 md:gap-4 mb-4 sm:mb-6 px-2",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 text-gray-600 bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl px-3 sm:px-4 md:px-5 py-2 sm:py-2.5 border border-gray-200 hover:border-primary/30 transition-all duration-300 hover:scale-105 group touch-target",children:[n.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-all duration-300 flex-shrink-0",children:n.jsx(Hr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-primary"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:"Updated Daily"}),n.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500",children:"Fresh listings"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 text-gray-600 bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl px-3 sm:px-4 md:px-5 py-2 sm:py-2.5 border border-gray-200 hover:border-primary/30 transition-all duration-300 hover:scale-105 group touch-target",children:[n.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-all duration-300 flex-shrink-0",children:n.jsx(zi,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:"Expert Agents"}),n.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500",children:"Professional team"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-600 bg-white/80 backdrop-blur-sm rounded-lg sm:rounded-xl px-4 sm:px-5 md:px-6 py-2.5 sm:py-3 border border-gray-200 hover:border-primary/30 transition-all duration-300 hover:scale-105 group touch-target",children:[n.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-yellow-100 rounded-lg flex items-center justify-center group-hover:bg-yellow-200 transition-all duration-300 flex-shrink-0",children:n.jsx(ne,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-yellow-600"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:"Verified Listings"}),n.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500",children:"Quality assured"})]})]})]})]}),n.jsx("div",{className:"max-w-6xl mx-auto w-full",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-5 items-stretch",children:g.map((f,v)=>n.jsxs(et,{className:`property-card group cursor-pointer animate-fade-in-up ${u===f.id?"shadow-2xl":""}`,style:{animationDelay:`${v*.1}s`},onMouseEnter:()=>_(f.id),onMouseLeave:()=>_(null),children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx(Ks.LazyLoadImage,{src:f.image,alt:f.address,effect:"blur",width:"100%",height:"auto",placeholderSrc:"/placeholder.svg",className:"property-image"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsxs("div",{className:`absolute top-2 sm:top-3 left-2 sm:left-3 z-10 flex items-center gap-1.5 px-2 sm:px-2.5 py-1 sm:py-1.5 rounded-lg backdrop-blur-sm shadow-lg transition-all duration-300 ${f.listingType==="buy"?"bg-blue-500/95 text-white hover:bg-blue-600/95":f.listingType==="rent"?"bg-green-500/95 text-white hover:bg-green-600/95":"bg-primary/95 text-white hover:bg-primary"}`,children:[f.listingType==="buy"?n.jsx(Ne,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 flex-shrink-0"}):f.listingType==="rent"?n.jsx(Br,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 flex-shrink-0"}):n.jsx(Ci,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 flex-shrink-0"}),n.jsx("span",{className:"text-[10px] sm:text-xs font-semibold uppercase tracking-wide",children:f.listingType==="buy"?"Buy":f.listingType==="rent"?"Rent":"Sell"})]}),n.jsx("div",{className:"absolute bottom-2 sm:bottom-3 md:bottom-4 left-2 sm:left-3 md:left-4 bg-white/90 backdrop-blur-sm rounded-lg px-2 sm:px-2.5 md:px-3 py-0.5 sm:py-1",children:n.jsxs("span",{className:"text-[10px] sm:text-xs font-medium text-gray-700",children:[f.daysOnMarket," days on market"]})})]}),n.jsxs(xt,{className:"p-3 sm:p-4 md:p-5",children:[n.jsxs("div",{className:"mb-3 sm:mb-4",children:[n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-primary mb-1 sm:mb-1.5",children:f.price}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 flex items-start sm:items-center gap-1 leading-tight sm:leading-normal",children:[n.jsx(se,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0 mt-0.5 sm:mt-0"}),n.jsx("span",{className:"break-words",children:f.address})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 sm:gap-3 md:gap-4 mb-3 sm:mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Js,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 block",children:f.bedrooms}),n.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Beds"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Xs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 block",children:f.bathrooms}),n.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Baths"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Zr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 block",children:f.sqft}),n.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Sq Ft"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx($r,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700 block",children:"2"}),n.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Garage"})]})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4 line-clamp-2 leading-relaxed",children:f.description}),n.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:f.features.slice(0,3).map((x,m)=>n.jsx(pt,{variant:"outline",className:"text-[10px] sm:text-xs px-2 py-0.5 sm:px-2.5 sm:py-1",children:x},m))}),n.jsxs("div",{className:"flex items-center justify-between pt-3 sm:pt-4 border-t border-gray-100 gap-2 sm:gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white text-[10px] sm:text-xs font-semibold",children:f.agent.split(" ").map(x=>x[0]).join("")})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:f.agent}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ne,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-400 fill-current flex-shrink-0"}),n.jsx("span",{className:"text-[10px] sm:text-xs text-gray-600",children:f.rating})]})]})]}),n.jsxs(Q,{size:"sm",onClick:()=>w(f),className:"bg-primary text-white hover:bg-primary/90 text-xs sm:text-sm px-4 sm:px-5 py-2 sm:py-2.5 rounded-lg font-semibold transition-all duration-300 touch-target min-h-[44px] flex-shrink-0 shadow-md hover:shadow-lg",children:[n.jsx(Rr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline",children:"View"}),n.jsx("span",{className:"sm:hidden",children:"View"})]})]})]})]},f.id))})})]}),n.jsx(Dr,{property:c,open:!!c,onClose:()=>w(null)})]})};var be={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var aa=be.exports,Vs;function oa(){return Vs||(Vs=1,(function(u,_){(function(c,w){w(_)})(aa,(function(c){var w="1.9.4";function g(t){var e,i,s,r;for(i=1,s=arguments.length;i<s;i++){r=arguments[i];for(e in r)t[e]=r[e]}return t}var f=Object.create||(function(){function t(){}return function(e){return t.prototype=e,new t}})();function v(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var s=i.call(arguments,2);return function(){return t.apply(e,s.length?s.concat(i.call(arguments)):arguments)}}var x=0;function m(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function H(t,e,i){var s,r,a,o;return o=function(){s=!1,r&&(a.apply(i,r),r=!1)},a=function(){s?r=arguments:(t.apply(i,arguments),setTimeout(o,e),s=!0)},a}function z(t,e,i){var s=e[1],r=e[0],a=s-r;return t===s&&i?t:((t-r)%a+a)%a+r}function E(){return!1}function U(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function gt(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return gt(t).split(/\s+/)}function B(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?f(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function bt(t,e,i){var s=[];for(var r in t)s.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(!e||e.indexOf("?")===-1?"?":"&")+s.join("&")}var re=/\{ *([\w_ -]+) *\}/g;function S(t,e){return t.replace(re,function(i,s){var r=e[s];if(r===void 0)throw new Error("No value provided for variable "+i);return typeof r=="function"&&(r=r(e)),r})}var R=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function N(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Wt=0;function ae(t){var e=+new Date,i=Math.max(0,16-(e-Wt));return Wt=e+i,window.setTimeout(t,i)}var Ge=window.requestAnimationFrame||mt("RequestAnimationFrame")||ae,Ai=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function it(t,e,i){if(i&&Ge===ae)t.call(e);else return Ge.call(window,v(t,e))}function lt(t){t&&Ai.call(window,t)}var an={__proto__:null,extend:g,create:f,bind:v,get lastId(){return x},stamp:m,throttle:H,wrapNum:z,falseFn:E,formatNum:U,trim:gt,splitWords:G,setOptions:B,getParamString:bt,template:S,isArray:R,indexOf:N,emptyImageUrl:j,requestFn:Ge,cancelFn:Ai,requestAnimFrame:it,cancelAnimFrame:lt};function Nt(){}Nt.extend=function(t){var e=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,s=f(i);s.constructor=e,e.prototype=s;for(var r in this)Object.prototype.hasOwnProperty.call(this,r)&&r!=="prototype"&&r!=="__super__"&&(e[r]=this[r]);return t.statics&&g(e,t.statics),t.includes&&(on(t.includes),g.apply(null,[s].concat(t.includes))),g(s,t),delete s.statics,delete s.includes,s.options&&(s.options=i.options?f(i.options):{},g(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,o=s._initHooks.length;a<o;a++)s._initHooks[a].call(this)}},e},Nt.include=function(t){var e=this.prototype.options;return g(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},Nt.mergeOptions=function(t){return g(this.prototype.options,t),this},Nt.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function on(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=R(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(t,e,i){if(typeof t=="object")for(var s in t)this._on(s,t[s],e);else{t=G(t);for(var r=0,a=t.length;r<a;r++)this._on(t[r],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],e);else{t=G(t);for(var r=arguments.length===1,a=0,o=t.length;a<o;a++)r?this._off(t[a]):this._off(t[a],e,i)}return this},_on:function(t,e,i,s){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var r={fn:e,ctx:i};s&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}},_off:function(t,e,i){var s,r,a;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(r=0,a=s.length;r<a;r++)s[r].fn=E;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var o=this._listens(t,e,i);if(o!==!1){var l=s[o];this._firingCount&&(l.fn=E,this._events[t]=s=s.slice()),s.splice(o,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var s=g({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,o=r.length;a<o;a++){var l=r[a],h=l.fn;l.once&&this.off(t,h,l.ctx),h.call(l.ctx||this,s)}this._firingCount--}}return i&&this._propagateEvent(s),this},listens:function(t,e,i,s){typeof t!="string"&&console.warn('"string" type argument expected');var r=e;typeof e!="function"&&(s=!!e,r=void 0,i=void 0);var a=this._events&&this._events[t];if(a&&a.length&&this._listens(t,r,i)!==!1)return!0;if(s){for(var o in this._eventParents)if(this._eventParents[o].listens(t,e,i,s))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var s=this._events[t]||[];if(!e)return!!s.length;i===this&&(i=void 0);for(var r=0,a=s.length;r<a;r++)if(s[r].fn===e&&s[r].ctx===i)return r;return!1},once:function(t,e,i){if(typeof t=="object")for(var s in t)this._on(s,t[s],e,!0);else{t=G(t);for(var r=0,a=t.length;r<a;r++)this._on(t[r],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,g({layer:t.target,propagatedFrom:t.target},t),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var oe=Nt.extend(at);function T(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var Ii=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};T.prototype={clone:function(){return new T(this.x,this.y)},add:function(t){return this.clone()._add(P(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(P(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new T(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new T(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ii(this.x),this.y=Ii(this.y),this},distanceTo:function(t){t=P(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=P(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=P(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+U(this.x)+", "+U(this.y)+")"}};function P(t,e,i){return t instanceof T?t:R(t)?new T(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new T(t.x,t.y):new T(t,e,i)}function W(t,e){if(t)for(var i=e?[t,e]:t,s=0,r=i.length;s<r;s++)this.extend(i[s])}W.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof T||typeof t[0]=="number"||"x"in t)e=i=P(t);else if(t=st(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return P(this.min.x,this.max.y)},getTopRight:function(){return P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof T?t=P(t):t=st(t),t instanceof W?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=st(t);var e=this.min,i=this.max,s=t.min,r=t.max,a=r.x>=e.x&&s.x<=i.x,o=r.y>=e.y&&s.y<=i.y;return a&&o},overlaps:function(t){t=st(t);var e=this.min,i=this.max,s=t.min,r=t.max,a=r.x>e.x&&s.x<i.x,o=r.y>e.y&&s.y<i.y;return a&&o},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,s=Math.abs(e.x-i.x)*t,r=Math.abs(e.y-i.y)*t;return st(P(e.x-s,e.y-r),P(i.x+s,i.y+r))},equals:function(t){return t?(t=st(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function st(t,e){return!t||t instanceof W?t:new W(t,e)}function nt(t,e){if(t)for(var i=e?[t,e]:t,s=0,r=i.length;s<r;s++)this.extend(i[s])}nt.prototype={extend:function(t){var e=this._southWest,i=this._northEast,s,r;if(t instanceof Z)s=t,r=t;else if(t instanceof nt){if(s=t._southWest,r=t._northEast,!s||!r)return this}else return t?this.extend(A(t)||$(t)):this;return!e&&!i?(this._southWest=new Z(s.lat,s.lng),this._northEast=new Z(r.lat,r.lng)):(e.lat=Math.min(s.lat,e.lat),e.lng=Math.min(s.lng,e.lng),i.lat=Math.max(r.lat,i.lat),i.lng=Math.max(r.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,s=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new nt(new Z(e.lat-s,e.lng-r),new Z(i.lat+s,i.lng+r))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Z||"lat"in t?t=A(t):t=$(t);var e=this._southWest,i=this._northEast,s,r;return t instanceof nt?(s=t.getSouthWest(),r=t.getNorthEast()):s=r=t,s.lat>=e.lat&&r.lat<=i.lat&&s.lng>=e.lng&&r.lng<=i.lng},intersects:function(t){t=$(t);var e=this._southWest,i=this._northEast,s=t.getSouthWest(),r=t.getNorthEast(),a=r.lat>=e.lat&&s.lat<=i.lat,o=r.lng>=e.lng&&s.lng<=i.lng;return a&&o},overlaps:function(t){t=$(t);var e=this._southWest,i=this._northEast,s=t.getSouthWest(),r=t.getNorthEast(),a=r.lat>e.lat&&s.lat<i.lat,o=r.lng>e.lng&&s.lng<i.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=$(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $(t,e){return t instanceof nt?t:new nt(t,e)}function Z(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}Z.prototype={equals:function(t,e){if(!t)return!1;t=A(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+U(this.lat,t)+", "+U(this.lng,t)+")"},distanceTo:function(t){return Mt.distance(this,A(t))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return $([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function A(t,e,i){return t instanceof Z?t:R(t)&&typeof t[0]!="object"?t.length===3?new Z(t[0],t[1],t[2]):t.length===2?new Z(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Z(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Z(t,e,i)}var jt={latLngToPoint:function(t,e){var i=this.projection.project(t),s=this.scale(e);return this.transformation._transform(i,s)},pointToLatLng:function(t,e){var i=this.scale(e),s=this.transformation.untransform(t,i);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),s=this.transformation.transform(e.min,i),r=this.transformation.transform(e.max,i);return new W(s,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?z(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?z(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new Z(i,e,s)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),s=e.lat-i.lat,r=e.lng-i.lng;if(s===0&&r===0)return t;var a=t.getSouthWest(),o=t.getNorthEast(),l=new Z(a.lat-s,a.lng-r),h=new Z(o.lat-s,o.lng-r);return new nt(l,h)}},Mt=g({},jt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,s=t.lat*i,r=e.lat*i,a=Math.sin((e.lat-t.lat)*i/2),o=Math.sin((e.lng-t.lng)*i/2),l=a*a+Math.cos(s)*Math.cos(r)*o*o,h=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return this.R*h}}),Oi=6378137,Ve={R:Oi,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,s=Math.max(Math.min(i,t.lat),-i),r=Math.sin(s*e);return new T(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new Z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(function(){var t=Oi*Math.PI;return new W([-t,-t],[t,t])})()};function $e(t,e,i,s){if(R(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=s}$e.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new T((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function le(t,e,i,s){return new $e(t,e,i,s)}var Ke=g({},Mt,{code:"EPSG:3857",projection:Ve,transformation:(function(){var t=.5/(Math.PI*Ve.R);return le(t,.5,-t,.5)})()}),ln=g({},Ke,{code:"EPSG:900913"});function Bi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Zi(t,e){var i="",s,r,a,o,l,h;for(s=0,a=t.length;s<a;s++){for(l=t[s],r=0,o=l.length;r<o;r++)h=l[r],i+=(r?"L":"M")+h.x+" "+h.y;i+=e?y.svg?"z":"x":""}return i||"M0 0"}var Ye=document.documentElement.style,je="ActiveXObject"in window,hn=je&&!document.addEventListener,Ri="msLaunchUri"in navigator&&!("documentMode"in document),Je=_t("webkit"),Di=_t("android"),Fi=_t("android 2")||_t("android 3"),cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dn=Di&&_t("Google")&&cn<537&&!("AudioNode"in window),Xe=!!window.opera,Hi=!Ri&&_t("chrome"),Wi=_t("gecko")&&!Je&&!Xe&&!je,mn=!Hi&&_t("safari"),qi=_t("phantom"),Ui="OTransition"in Ye,un=navigator.platform.indexOf("Win")===0,Gi=je&&"transition"in Ye,Qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fi,Vi="MozPerspective"in Ye,fn=!window.L_DISABLE_3D&&(Gi||Qe||Vi)&&!Ui&&!qi,he=typeof orientation<"u"||_t("mobile"),pn=he&&Je,xn=he&&Qe,$i=!window.PointerEvent&&window.MSPointerEvent,Ki=!!(window.PointerEvent||$i),Yi="ontouchstart"in window||!!window.TouchEvent,gn=!window.L_NO_TOUCH&&(Yi||Ki),_n=he&&Xe,vn=he&&Wi,yn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wn=(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",E,e),window.removeEventListener("testPassiveEventSupport",E,e)}catch{}return t})(),bn=(function(){return!!document.createElement("canvas").getContext})(),ti=!!(document.createElementNS&&Bi("svg").createSVGRect),Nn=!!ti&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),jn=!ti&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}})(),Pn=navigator.platform.indexOf("Mac")===0,Ln=navigator.platform.indexOf("Linux")===0;function _t(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var y={ie:je,ielt9:hn,edge:Ri,webkit:Je,android:Di,android23:Fi,androidStock:dn,opera:Xe,chrome:Hi,gecko:Wi,safari:mn,phantom:qi,opera12:Ui,win:un,ie3d:Gi,webkit3d:Qe,gecko3d:Vi,any3d:fn,mobile:he,mobileWebkit:pn,mobileWebkit3d:xn,msPointer:$i,pointer:Ki,touch:gn,touchNative:Yi,mobileOpera:_n,mobileGecko:vn,retina:yn,passiveEvents:wn,canvas:bn,svg:ti,vml:jn,inlineSvg:Nn,mac:Pn,linux:Ln},Ji=y.msPointer?"MSPointerDown":"pointerdown",Xi=y.msPointer?"MSPointerMove":"pointermove",Qi=y.msPointer?"MSPointerUp":"pointerup",ts=y.msPointer?"MSPointerCancel":"pointercancel",ei={touchstart:Ji,touchmove:Xi,touchend:Qi,touchcancel:ts},es={touchstart:zn,touchmove:Pe,touchend:Pe,touchcancel:Pe},qt={},is=!1;function Tn(t,e,i){return e==="touchstart"&&Cn(),es[e]?(i=es[e].bind(this,i),t.addEventListener(ei[e],i,!1),i):(console.warn("wrong event specified:",e),E)}function kn(t,e,i){if(!ei[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(ei[e],i,!1)}function Sn(t){qt[t.pointerId]=t}function Mn(t){qt[t.pointerId]&&(qt[t.pointerId]=t)}function ss(t){delete qt[t.pointerId]}function Cn(){is||(document.addEventListener(Ji,Sn,!0),document.addEventListener(Xi,Mn,!0),document.addEventListener(Qi,ss,!0),document.addEventListener(ts,ss,!0),is=!0)}function Pe(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in qt)e.touches.push(qt[i]);e.changedTouches=[e],t(e)}}function zn(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&X(e),Pe(t,e)}function En(t){var e={},i,s;for(s in t)i=t[s],e[s]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var An=200;function In(t,e){t.addEventListener("dblclick",e);var i=0,s;function r(a){if(a.detail!==1){s=a.detail;return}if(!(a.pointerType==="mouse"||a.sourceCapabilities&&!a.sourceCapabilities.firesTouchEvents)){var o=ls(a);if(!(o.some(function(h){return h instanceof HTMLLabelElement&&h.attributes.for})&&!o.some(function(h){return h instanceof HTMLInputElement||h instanceof HTMLSelectElement}))){var l=Date.now();l-i<=An?(s++,s===2&&e(En(a))):s=1,i=l}}}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function On(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ii=ke(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ce=ke(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ns=ce==="webkitTransition"||ce==="OTransition"?ce+"End":"transitionend";function rs(t){return typeof t=="string"?document.getElementById(t):t}function de(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);i=s?s[e]:null}return i==="auto"?null:i}function O(t,e,i){var s=document.createElement(t);return s.className=e||"",i&&i.appendChild(s),s}function q(t){var e=t.parentNode;e&&e.removeChild(t)}function Le(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ut(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Gt(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function si(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=Te(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function M(t,e){if(t.classList!==void 0)for(var i=G(e),s=0,r=i.length;s<r;s++)t.classList.add(i[s]);else if(!si(t,e)){var a=Te(t);ni(t,(a?a+" ":"")+e)}}function V(t,e){t.classList!==void 0?t.classList.remove(e):ni(t,gt((" "+Te(t)+" ").replace(" "+e+" "," ")))}function ni(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function Te(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function ht(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Bn(t,e)}function Bn(t,e){var i=!1,s="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(s)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+s+"(opacity="+e+")"}function ke(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Bt(t,e,i){var s=e||new T(0,0);t.style[ii]=(y.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(i?" scale("+i+")":"")}function K(t,e){t._leaflet_pos=e,y.any3d?Bt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Zt(t){return t._leaflet_pos||new T(0,0)}var me,ue,ri;if("onselectstart"in document)me=function(){k(window,"selectstart",X)},ue=function(){F(window,"selectstart",X)};else{var fe=ke(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);me=function(){if(fe){var t=document.documentElement.style;ri=t[fe],t[fe]="none"}},ue=function(){fe&&(document.documentElement.style[fe]=ri,ri=void 0)}}function ai(){k(window,"dragstart",X)}function oi(){F(window,"dragstart",X)}var Se,li;function hi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Me(),Se=t,li=t.style.outlineStyle,t.style.outlineStyle="none",k(window,"keydown",Me))}function Me(){Se&&(Se.style.outlineStyle=li,Se=void 0,li=void 0,F(window,"keydown",Me))}function as(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ci(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Zn={__proto__:null,TRANSFORM:ii,TRANSITION:ce,TRANSITION_END:ns,get:rs,getStyle:de,create:O,remove:q,empty:Le,toFront:Ut,toBack:Gt,hasClass:si,addClass:M,removeClass:V,setClass:ni,getClass:Te,setOpacity:ht,testProp:ke,setTransform:Bt,setPosition:K,getPosition:Zt,get disableTextSelection(){return me},get enableTextSelection(){return ue},disableImageDrag:ai,enableImageDrag:oi,preventOutline:hi,restoreOutline:Me,getSizedParentNode:as,getScale:ci};function k(t,e,i,s){if(e&&typeof e=="object")for(var r in e)mi(t,r,e[r],i);else{e=G(e);for(var a=0,o=e.length;a<o;a++)mi(t,e[a],i,s)}return this}var vt="_leaflet_events";function F(t,e,i,s){if(arguments.length===1)os(t),delete t[vt];else if(e&&typeof e=="object")for(var r in e)ui(t,r,e[r],i);else if(e=G(e),arguments.length===2)os(t,function(l){return N(e,l)!==-1});else for(var a=0,o=e.length;a<o;a++)ui(t,e[a],i,s);return this}function os(t,e){for(var i in t[vt]){var s=i.split(/\d/)[0];(!e||e(s))&&ui(t,s,null,null,i)}}var di={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mi(t,e,i,s){var r=e+m(i)+(s?"_"+m(s):"");if(t[vt]&&t[vt][r])return this;var a=function(l){return i.call(s||t,l||window.event)},o=a;!y.touchNative&&y.pointer&&e.indexOf("touch")===0?a=Tn(t,e,a):y.touch&&e==="dblclick"?a=In(t,a):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(di[e]||e,a,y.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(a=function(l){l=l||window.event,pi(t,l)&&o(l)},t.addEventListener(di[e],a,!1)):t.addEventListener(e,o,!1):t.attachEvent("on"+e,a),t[vt]=t[vt]||{},t[vt][r]=a}function ui(t,e,i,s,r){r=r||e+m(i)+(s?"_"+m(s):"");var a=t[vt]&&t[vt][r];if(!a)return this;!y.touchNative&&y.pointer&&e.indexOf("touch")===0?kn(t,e,a):y.touch&&e==="dblclick"?On(t,a):"removeEventListener"in t?t.removeEventListener(di[e]||e,a,!1):t.detachEvent("on"+e,a),t[vt][r]=null}function Rt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function fi(t){return mi(t,"wheel",Rt),this}function pe(t){return k(t,"mousedown touchstart dblclick contextmenu",Rt),t._leaflet_disable_click=!0,this}function X(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Dt(t){return X(t),Rt(t),this}function ls(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function hs(t,e){if(!e)return new T(t.clientX,t.clientY);var i=ci(e),s=i.boundingClientRect;return new T((t.clientX-s.left)/i.x-e.clientLeft,(t.clientY-s.top)/i.y-e.clientTop)}var Rn=y.linux&&y.chrome?window.devicePixelRatio:y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cs(t){return y.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Rn:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function pi(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var Dn={__proto__:null,on:k,off:F,stopPropagation:Rt,disableScrollPropagation:fi,disableClickPropagation:pe,preventDefault:X,stop:Dt,getPropagationPath:ls,getMousePosition:hs,getWheelDelta:cs,isExternalTarget:pi,addListener:k,removeListener:F},ds=oe.extend({run:function(t,e,i,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=Zt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=it(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),K(this._el,i),this.fire("step")},_complete:function(){lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),I=oe.extend({options:{crs:Ke,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=B(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(A(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ce&&y.any3d&&!y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),k(this._proxy,ns,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(A(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=g({animate:i.animate},i.zoom),i.pan=g({animate:i.animate,duration:i.duration},i.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var s=this.getZoomScale(e),r=this.getSize().divideBy(2),a=t instanceof T?t:this.latLngToContainerPoint(t),o=a.subtract(r).multiplyBy(1-1/s),l=this.containerPointToLatLng(r.add(o));return this.setView(l,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():$(t);var i=P(e.paddingTopLeft||e.padding||[0,0]),s=P(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,i.add(s));if(r=typeof e.maxZoom=="number"?Math.min(e.maxZoom,r):r,r===1/0)return{center:t.getCenter(),zoom:r};var a=s.subtract(i).divideBy(2),o=this.project(t.getSouthWest(),r),l=this.project(t.getNorthEast(),r),h=this.unproject(o.add(l).divideBy(2).add(a),r);return{center:h,zoom:r}},fitBounds:function(t,e){if(t=$(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=P(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ds,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){M(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!y.any3d)return this.setView(t,e,i);this._stop();var s=this.project(this.getCenter()),r=this.project(t),a=this.getSize(),o=this._zoom;t=A(t),e=e===void 0?o:e;var l=Math.max(a.x,a.y),h=l*this.getZoomScale(o,e),d=r.distanceTo(s)||1,p=1.42,b=p*p;function C(Y){var He=Y?-1:1,kr=Y?h:l,Sr=h*h-l*l+He*b*b*d*d,Mr=2*kr*b*d,Li=Sr/Mr,Us=Math.sqrt(Li*Li+1)-Li,Cr=Us<1e-9?-18:Math.log(Us);return Cr}function tt(Y){return(Math.exp(Y)-Math.exp(-Y))/2}function J(Y){return(Math.exp(Y)+Math.exp(-Y))/2}function dt(Y){return tt(Y)/J(Y)}var rt=C(0);function Xt(Y){return l*(J(rt)/J(rt+p*Y))}function jr(Y){return l*(J(rt)*dt(rt+p*Y)-tt(rt))/b}function Pr(Y){return 1-Math.pow(1-Y,1.5)}var Lr=Date.now(),Ws=(C(1)-rt)/p,Tr=i.duration?1e3*i.duration:1e3*Ws*.8;function qs(){var Y=(Date.now()-Lr)/Tr,He=Pr(Y)*Ws;Y<=1?(this._flyToFrame=it(qs,this),this._move(this.unproject(s.add(r.subtract(s).multiplyBy(jr(He)/d)),o),this.getScaleZoom(l/Xt(He),o),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),qs.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=$(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),s=this._limitCenter(i,this._zoom,$(t));return i.equals(s)||this.panTo(s,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=P(e.paddingTopLeft||e.padding||[0,0]),s=P(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),a=this.project(t),o=this.getPixelBounds(),l=st([o.min.add(i),o.max.subtract(s)]),h=l.getSize();if(!l.contains(a)){this._enforcingBounds=!0;var d=a.subtract(l.getCenter()),p=l.extend(a).getSize().subtract(h);r.x+=d.x<0?-p.x:p.x,r.y+=d.y<0?-p.y:p.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=g({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),s=e.divideBy(2).round(),r=i.divideBy(2).round(),a=s.subtract(r);return!a.x&&!a.y?this:(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=g({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=v(this._handleGeolocationResponse,this),i=v(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,s=new Z(e,i),r=s.toBounds(t.coords.accuracy*2),a=this._locateOptions;if(a.setView){var o=this.getBoundsZoom(r);this.setView(s,a.maxZoom?Math.min(o,a.maxZoom):o)}var l={latlng:s,bounds:r,timestamp:t.timestamp};for(var h in t.coords)typeof t.coords[h]=="number"&&(l[h]=t.coords[h]);this.fire("locationfound",l)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),q(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)q(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=O("div",i,e||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new nt(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=$(t),i=P(i||[0,0]);var s=this.getZoom()||0,r=this.getMinZoom(),a=this.getMaxZoom(),o=t.getNorthWest(),l=t.getSouthEast(),h=this.getSize().subtract(i),d=st(this.project(l,s),this.project(o,s)).getSize(),p=y.any3d?this.options.zoomSnap:1,b=h.x/d.x,C=h.y/d.y,tt=e?Math.max(b,C):Math.min(b,C);return s=this.getScaleZoom(tt,s),p&&(s=Math.round(s/(p/100))*(p/100),s=e?Math.ceil(s/p)*p:Math.floor(s/p)*p),Math.max(r,Math.min(a,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new W(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var s=i.zoom(t*i.scale(e));return isNaN(s)?1/0:s},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(A(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(P(t),e)},layerPointToLatLng:function(t){var e=P(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(A(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(A(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds($(t))},distance:function(t,e){return this.options.crs.distance(A(t),A(e))},containerPointToLayerPoint:function(t){return P(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return P(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(P(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(A(t)))},mouseEventToContainerPoint:function(t){return hs(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=rs(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");k(e,"scroll",this._onScroll,this),this._containerId=m(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&y.any3d,M(t,"leaflet-container"+(y.touch?" leaflet-touch":"")+(y.retina?" leaflet-retina":"")+(y.ielt9?" leaflet-oldie":"")+(y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=de(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),K(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(M(t.markerPane,"leaflet-zoom-hide"),M(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){K(this._mapPane,new T(0,0));var s=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,i)._move(t,e)._moveEnd(r),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,s){e===void 0&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?i&&i.pinch&&this.fire("zoom",i):((r||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){K(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[m(this._container)]=this;var e=t?F:k;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),y.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){lt(this._resizeRequest),this._resizeRequest=it(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],s,r=e==="mouseout"||e==="mouseover",a=t.target||t.srcElement,o=!1;a;){if(s=this._targets[m(a)],s&&(e==="click"||e==="preclick")&&this._draggableMoved(s)){o=!0;break}if(s&&s.listens(e,!0)&&(r&&!pi(a,t)||(i.push(s),r))||a===this._container)break;a=a.parentNode}return!i.length&&!o&&!r&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&hi(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var s=g({},t);s.type="preclick",this._fireDOMEvent(s,s.type,i)}var r=this._findEventTargets(t,e);if(i){for(var a=[],o=0;o<i.length;o++)i[o].listens(e,!0)&&a.push(i[o]);r=a.concat(r)}if(r.length){e==="contextmenu"&&X(t);var l=r[0],h={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var d=l.getLatLng&&(!l._radius||l._radius<=10);h.containerPoint=d?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),h.layerPoint=this.containerPointToLayerPoint(h.containerPoint),h.latlng=d?l.getLatLng():this.layerPointToLatLng(h.layerPoint)}for(o=0;o<r.length;o++)if(r[o].fire(e,h,!0),h.originalEvent._stopped||r[o].options.bubblingMouseEvents===!1&&N(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Zt(this._mapPane)||new T(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var s=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,e,i){var s=this._getNewPixelOrigin(i,e);return st([this.project(t.getSouthWest(),e)._subtract(s),this.project(t.getNorthWest(),e)._subtract(s),this.project(t.getSouthEast(),e)._subtract(s),this.project(t.getNorthEast(),e)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var s=this.project(t,e),r=this.getSize().divideBy(2),a=new W(s.subtract(r),s.add(r)),o=this._getBoundsOffset(a,i,e);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?t:this.unproject(s.add(o),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),s=new W(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(s,e))},_getBoundsOffset:function(t,e,i){var s=st(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),r=s.min.subtract(t.min),a=s.max.subtract(t.max),o=this._rebound(r.x,-a.x),l=this._rebound(r.y,-a.y);return new T(o,l)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),s=y.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){V(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=O("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=ii,s=this._proxy.style[i];Bt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),s===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){q(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Bt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/s);return i.animate!==!0&&!this.getSize().contains(r)?!1:(it(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,s){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,M(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&V(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fn(t,e){return new I(t,e)}var ut=Nt.extend({options:{position:"topright"},initialize:function(t){B(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),s=t._controlCorners[i];return M(e,"leaflet-control"),i.indexOf("bottom")!==-1?s.insertBefore(e,s.firstChild):s.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(q(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),xe=function(t){return new ut(t)};I.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=O("div",e+"control-container",this._container);function s(r,a){var o=e+r+" "+e+a;t[r+a]=O("div",o,i)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)q(this._controlCorners[t]);q(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ms=ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,s){return i<s?-1:s<i?1:0}},initialize:function(t,e,i){B(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in e)this._addLayer(e[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ut.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(m(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){M(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(M(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):V(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return V(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=O("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),pe(e),fi(e);var s=this._section=O("section",t+"-list");i&&(this._map.on("click",this.collapse,this),k(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=O("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),k(r,{keydown:function(a){a.keyCode===13&&this._expandSafely()},click:function(a){X(a),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=O("div",t+"-base",s),this._separator=O("div",t+"-separator",s),this._overlaysList=O("div",t+"-overlays",s),e.appendChild(s)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&m(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(v(function(s,r){return this.options.sortFunction(s.layer,r.layer,s.name,r.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Le(this._baseLayersList),Le(this._overlaysList),this._layerControlInputs=[];var t,e,i,s,r=0;for(i=0;i<this._layers.length;i++)s=this._layers[i],this._addItem(s),e=e||s.overlay,t=t||!s.overlay,r+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(m(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=i,s.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=i):s=this._createRadioElement("leaflet-base-layers_"+m(this),i),this._layerControlInputs.push(s),s.layerId=m(t.layer),k(s,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var a=document.createElement("span");e.appendChild(a),a.appendChild(s),a.appendChild(r);var o=t.overlay?this._overlaysList:this._baseLayersList;return o.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,s=[],r=[];this._handlingClick=!0;for(var a=t.length-1;a>=0;a--)e=t[a],i=this._getLayer(e.layerId).layer,e.checked?s.push(i):e.checked||r.push(i);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])&&this._map.removeLayer(r[a]);for(a=0;a<s.length;a++)this._map.hasLayer(s[a])||this._map.addLayer(s[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,s=this._map.getZoom(),r=t.length-1;r>=0;r--)e=t[r],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&s<i.options.minZoom||i.options.maxZoom!==void 0&&s>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,k(t,"click",X),this.expand();var e=this;setTimeout(function(){F(t,"click",X),e._preventClick=!1})}}),Hn=function(t,e,i){return new ms(t,e,i)},xi=ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=O("div",e+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,s,r){var a=O("a",i,s);return a.innerHTML=t,a.href="#",a.title=e,a.setAttribute("role","button"),a.setAttribute("aria-label",e),pe(a),k(a,"click",Dt),k(a,"click",r,this),k(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";V(this._zoomInButton,e),V(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(M(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(M(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});I.mergeOptions({zoomControl:!0}),I.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xi,this.addControl(this.zoomControl))});var Wn=function(t){return new xi(t)},us=ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=O("div",e),s=this.options;return this._addScales(s,e+"-line",i),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=O("div",e,i)),t.imperial&&(this._iScale=O("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,s,r;e>5280?(i=e/5280,s=this._getRoundNum(i),this._updateScale(this._iScale,s+" mi",s/i)):(r=this._getRoundNum(e),this._updateScale(this._iScale,r+" ft",r/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),qn=function(t){return new us(t)},Un='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gi=ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(y.inlineSvg?Un+" ":"")+"Leaflet</a>"},initialize:function(t){B(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=O("div","leaflet-control-attribution"),pe(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});I.mergeOptions({attributionControl:!0}),I.addInitHook(function(){this.options.attributionControl&&new gi().addTo(this)});var Gn=function(t){return new gi(t)};ut.Layers=ms,ut.Zoom=xi,ut.Scale=us,ut.Attribution=gi,xe.layers=Hn,xe.zoom=Wn,xe.scale=qn,xe.attribution=Gn;var yt=Nt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yt.addTo=function(t,e){return t.addHandler(e,this),this};var Vn={Events:at},fs=y.touch?"touchstart mousedown":"mousedown",Ct=oe.extend({options:{clickTolerance:3},initialize:function(t,e,i,s){B(this,s),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(k(this._dragStartTarget,fs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ct._dragging===this&&this.finishDrag(!0),F(this._dragStartTarget,fs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!si(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Ct._dragging===this&&this.finishDrag();return}if(!(Ct._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Ct._dragging=this,this._preventOutline&&hi(this._element),ai(),me(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=as(this._element);this._startPoint=new T(e.clientX,e.clientY),this._startPos=Zt(this._element),this._parentScale=ci(i);var s=t.type==="mousedown";k(document,s?"mousemove":"touchmove",this._onMove,this),k(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new T(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,X(t),this._moved||(this.fire("dragstart"),this._moved=!0,M(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),M(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),K(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){V(document.body,"leaflet-dragging"),this._lastTarget&&(V(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),F(document,"mousemove touchmove",this._onMove,this),F(document,"mouseup touchend touchcancel",this._onUp,this),oi(),ue();var e=this._moved&&this._moving;this._moving=!1,Ct._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ps(t,e,i){var s,r=[1,4,2,8],a,o,l,h,d,p,b,C;for(a=0,p=t.length;a<p;a++)t[a]._code=Ft(t[a],e);for(l=0;l<4;l++){for(b=r[l],s=[],a=0,p=t.length,o=p-1;a<p;o=a++)h=t[a],d=t[o],h._code&b?d._code&b||(C=Ce(d,h,b,e,i),C._code=Ft(C,e),s.push(C)):(d._code&b&&(C=Ce(d,h,b,e,i),C._code=Ft(C,e),s.push(C)),s.push(h));t=s}return t}function xs(t,e){var i,s,r,a,o,l,h,d,p;if(!t||t.length===0)throw new Error("latlngs not passed");ct(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var b=A([0,0]),C=$(t),tt=C.getNorthWest().distanceTo(C.getSouthWest())*C.getNorthEast().distanceTo(C.getNorthWest());tt<1700&&(b=_i(t));var J=t.length,dt=[];for(i=0;i<J;i++){var rt=A(t[i]);dt.push(e.project(A([rt.lat-b.lat,rt.lng-b.lng])))}for(l=h=d=0,i=0,s=J-1;i<J;s=i++)r=dt[i],a=dt[s],o=r.y*a.x-a.y*r.x,h+=(r.x+a.x)*o,d+=(r.y+a.y)*o,l+=o*3;l===0?p=dt[0]:p=[h/l,d/l];var Xt=e.unproject(P(p));return A([Xt.lat+b.lat,Xt.lng+b.lng])}function _i(t){for(var e=0,i=0,s=0,r=0;r<t.length;r++){var a=A(t[r]);e+=a.lat,i+=a.lng,s++}return A([e/s,i/s])}var $n={__proto__:null,clipPolygon:ps,polygonCenter:xs,centroid:_i};function gs(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Jn(t,i),t=Yn(t,i),t}function _s(t,e,i){return Math.sqrt(ge(t,e,i,!0))}function Kn(t,e,i){return ge(t,e,i)}function Yn(t,e){var i=t.length,s=typeof Uint8Array<"u"?Uint8Array:Array,r=new s(i);r[0]=r[i-1]=1,vi(t,r,e,0,i-1);var a,o=[];for(a=0;a<i;a++)r[a]&&o.push(t[a]);return o}function vi(t,e,i,s,r){var a=0,o,l,h;for(l=s+1;l<=r-1;l++)h=ge(t[l],t[s],t[r],!0),h>a&&(o=l,a=h);a>i&&(e[o]=1,vi(t,e,i,s,o),vi(t,e,i,o,r))}function Jn(t,e){for(var i=[t[0]],s=1,r=0,a=t.length;s<a;s++)Xn(t[s],t[r])>e&&(i.push(t[s]),r=s);return r<a-1&&i.push(t[a-1]),i}var vs;function ys(t,e,i,s,r){var a=s?vs:Ft(t,i),o=Ft(e,i),l,h,d;for(vs=o;;){if(!(a|o))return[t,e];if(a&o)return!1;l=a||o,h=Ce(t,e,l,i,r),d=Ft(h,i),l===a?(t=h,a=d):(e=h,o=d)}}function Ce(t,e,i,s,r){var a=e.x-t.x,o=e.y-t.y,l=s.min,h=s.max,d,p;return i&8?(d=t.x+a*(h.y-t.y)/o,p=h.y):i&4?(d=t.x+a*(l.y-t.y)/o,p=l.y):i&2?(d=h.x,p=t.y+o*(h.x-t.x)/a):i&1&&(d=l.x,p=t.y+o*(l.x-t.x)/a),new T(d,p,r)}function Ft(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Xn(t,e){var i=e.x-t.x,s=e.y-t.y;return i*i+s*s}function ge(t,e,i,s){var r=e.x,a=e.y,o=i.x-r,l=i.y-a,h=o*o+l*l,d;return h>0&&(d=((t.x-r)*o+(t.y-a)*l)/h,d>1?(r=i.x,a=i.y):d>0&&(r+=o*d,a+=l*d)),o=t.x-r,l=t.y-a,s?o*o+l*l:new T(r,a)}function ct(t){return!R(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ws(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ct(t)}function bs(t,e){var i,s,r,a,o,l,h,d;if(!t||t.length===0)throw new Error("latlngs not passed");ct(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var p=A([0,0]),b=$(t),C=b.getNorthWest().distanceTo(b.getSouthWest())*b.getNorthEast().distanceTo(b.getNorthWest());C<1700&&(p=_i(t));var tt=t.length,J=[];for(i=0;i<tt;i++){var dt=A(t[i]);J.push(e.project(A([dt.lat-p.lat,dt.lng-p.lng])))}for(i=0,s=0;i<tt-1;i++)s+=J[i].distanceTo(J[i+1])/2;if(s===0)d=J[0];else for(i=0,a=0;i<tt-1;i++)if(o=J[i],l=J[i+1],r=o.distanceTo(l),a+=r,a>s){h=(a-s)/r,d=[l.x-h*(l.x-o.x),l.y-h*(l.y-o.y)];break}var rt=e.unproject(P(d));return A([rt.lat+p.lat,rt.lng+p.lng])}var Qn={__proto__:null,simplify:gs,pointToSegmentDistance:_s,closestPointOnSegment:Kn,clipSegment:ys,_getEdgeIntersection:Ce,_getBitCode:Ft,_sqClosestPointOnSegment:ge,isFlat:ct,_flat:ws,polylineCenter:bs},yi={project:function(t){return new T(t.lng,t.lat)},unproject:function(t){return new Z(t.y,t.x)},bounds:new W([-180,-90],[180,90])},wi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,s=t.lat*e,r=this.R_MINOR/i,a=Math.sqrt(1-r*r),o=a*Math.sin(s),l=Math.tan(Math.PI/4-s/2)/Math.pow((1-o)/(1+o),a/2);return s=-i*Math.log(Math.max(l,1e-10)),new T(t.lng*e*i,s)},unproject:function(t){for(var e=180/Math.PI,i=this.R,s=this.R_MINOR/i,r=Math.sqrt(1-s*s),a=Math.exp(-t.y/i),o=Math.PI/2-2*Math.atan(a),l=0,h=.1,d;l<15&&Math.abs(h)>1e-7;l++)d=r*Math.sin(o),d=Math.pow((1-d)/(1+d),r/2),h=Math.PI/2-2*Math.atan(a*d)-o,o+=h;return new Z(o*e,t.x*e/i)}},tr={__proto__:null,LonLat:yi,Mercator:wi,SphericalMercator:Ve},er=g({},Mt,{code:"EPSG:3395",projection:wi,transformation:(function(){var t=.5/(Math.PI*wi.R);return le(t,.5,-t,.5)})()}),Ns=g({},Mt,{code:"EPSG:4326",projection:yi,transformation:le(1/180,1,-1/180,.5)}),ir=g({},jt,{projection:yi,transformation:le(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,s=e.lat-t.lat;return Math.sqrt(i*i+s*s)},infinite:!0});jt.Earth=Mt,jt.EPSG3395=er,jt.EPSG3857=Ke,jt.EPSG900913=ln,jt.EPSG4326=Ns,jt.Simple=ir;var ft=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});I.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=m(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=m(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return m(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?R(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=m(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var s in this._zoomBoundLayers){var r=this._zoomBoundLayers[s].options;t=r.minZoom===void 0?t:Math.min(t,r.minZoom),e=r.maxZoom===void 0?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vt=ft.extend({initialize:function(t,e){B(this,e),this._layers={};var i,s;if(t)for(i=0,s=t.length;i<s;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,s;for(i in this._layers)s=this._layers[i],s[t]&&s[t].apply(s,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),sr=function(t,e){return new Vt(t,e)},Pt=Vt.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Vt.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Vt.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new nt;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),nr=function(t,e){return new Pt(t,e)},$t=Nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){B(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,e){var i=this.options,s=i[e+"Size"];typeof s=="number"&&(s=[s,s]);var r=P(s),a=P(e==="shadow"&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return y.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function rr(t){return new $t(t)}var _e=$t.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof _e.imagePath!="string"&&(_e.imagePath=this._detectIconPath()),(this.options.imagePath||_e.imagePath)+$t.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,s,r){var a=s.exec(i);return a&&a[r]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=O("div","leaflet-default-icon-path",document.body),e=de(t,"background-image")||de(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),js=yt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ct(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),M(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&V(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,s=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,a=Zt(e._icon),o=i.getPixelBounds(),l=i.getPixelOrigin(),h=st(o.min._subtract(l).add(r),o.max._subtract(l).subtract(r));if(!h.contains(a)){var d=P((Math.max(h.max.x,a.x)-h.max.x)/(o.max.x-h.max.x)-(Math.min(h.min.x,a.x)-h.min.x)/(o.min.x-h.min.x),(Math.max(h.max.y,a.y)-h.max.y)/(o.max.y-h.max.y)-(Math.min(h.min.y,a.y)-h.min.y)/(o.min.y-h.min.y)).multiplyBy(s);i.panBy(d,{animate:!1}),this._draggable._newPos._add(d),this._draggable._startPos._add(d),K(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=it(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(lt(this._panRequest),this._panRequest=it(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,s=Zt(e._icon),r=e._map.layerPointToLatLng(s);i&&K(i,s),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ze=ft.extend({options:{icon:new _e,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){B(this,e),this._latlng=A(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=A(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),s=!1;i!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),M(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&k(i,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),a=!1;r!==this._shadow&&(this._removeShadow(),a=!0),r&&(M(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&a&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(this._icon,"focus",this._panOnFocus,this),q(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&q(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&K(this._icon,t),this._shadow&&K(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(M(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),js)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new js(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ht(this._icon,t),this._shadow&&ht(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?P(e.iconSize):P(0,0),s=e.iconAnchor?P(e.iconAnchor):P(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:i.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ar(t,e){return new ze(t,e)}var zt=ft.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return B(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ee=zt.extend({options:{fill:!0,radius:10},initialize:function(t,e){B(this,e),this._latlng=A(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=A(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return zt.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),s=[t+i,e+i];this._pxBounds=new W(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(t,e){return new Ee(t,e)}var bi=Ee.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=g({},i,{radius:e})),B(this,e),this._latlng=A(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new nt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:zt.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,s=i.options.crs;if(s.distance===Mt.distance){var r=Math.PI/180,a=this._mRadius/Mt.R/r,o=i.project([e+a,t]),l=i.project([e-a,t]),h=o.add(l).divideBy(2),d=i.unproject(h).lat,p=Math.acos((Math.cos(a*r)-Math.sin(e*r)*Math.sin(d*r))/(Math.cos(e*r)*Math.cos(d*r)))/r;(isNaN(p)||p===0)&&(p=a/Math.cos(Math.PI/180*e)),this._point=h.subtract(i.getPixelOrigin()),this._radius=isNaN(p)?0:h.x-i.project([d,t-p]).x,this._radiusY=h.y-o.y}else{var b=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(b).x}this._updateBounds()}});function lr(t,e,i){return new bi(t,e,i)}var Lt=zt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){B(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,s=ge,r,a,o=0,l=this._parts.length;o<l;o++)for(var h=this._parts[o],d=1,p=h.length;d<p;d++){r=h[d-1],a=h[d];var b=s(t,r,a,!0);b<e&&(e=b,i=s(t,r,a))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=A(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new nt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ct(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=ct(t),s=0,r=t.length;s<r;s++)i?(e[s]=A(t[s]),this._bounds.extend(e[s])):e[s]=this._convertLatLngs(t[s]);return e},_project:function(){var t=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new T(t,t);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var s=t[0]instanceof Z,r=t.length,a,o;if(s){for(o=[],a=0;a<r;a++)o[a]=this._map.latLngToLayerPoint(t[a]),i.extend(o[a]);e.push(o)}else for(a=0;a<r;a++)this._projectLatlngs(t[a],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,s,r,a,o,l,h;for(i=0,r=0,a=this._rings.length;i<a;i++)for(h=this._rings[i],s=0,o=h.length;s<o-1;s++)l=ys(h[s],h[s+1],t,s,!0),l&&(e[r]=e[r]||[],e[r].push(l[0]),(l[1]!==h[s+1]||s===o-2)&&(e[r].push(l[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,s=t.length;i<s;i++)t[i]=gs(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,s,r,a,o,l,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,a=this._parts.length;i<a;i++)for(l=this._parts[i],s=0,o=l.length,r=o-1;s<o;r=s++)if(!(!e&&s===0)&&_s(t,l[r],l[s])<=h)return!0;return!1}});function hr(t,e){return new Lt(t,e)}Lt._flat=ws;var Kt=Lt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Lt.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof Z&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Lt.prototype._setLatLngs.call(this,t),ct(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ct(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new T(e,e);if(t=new W(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,r=this._rings.length,a;s<r;s++)a=ps(this._rings[s],t,!0),a.length&&this._parts.push(a)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,s,r,a,o,l,h,d;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,h=this._parts.length;a<h;a++)for(i=this._parts[a],o=0,d=i.length,l=d-1;o<d;l=o++)s=i[o],r=i[l],s.y>t.y!=r.y>t.y&&t.x<(r.x-s.x)*(t.y-s.y)/(r.y-s.y)+s.x&&(e=!e);return e||Lt.prototype._containsPoint.call(this,t,!0)}});function cr(t,e){return new Kt(t,e)}var Tt=Pt.extend({initialize:function(t,e){B(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=R(t)?t:t.features,i,s,r;if(e){for(i=0,s=e.length;i<s;i++)r=e[i],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(t))return this;var o=Ae(t,a);return o?(o.feature=Be(t),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(t,o),this.addLayer(o)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=g({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Ae(t,e){var i=t.type==="Feature"?t.geometry:t,s=i?i.coordinates:null,r=[],a=e&&e.pointToLayer,o=e&&e.coordsToLatLng||Ni,l,h,d,p;if(!s&&!i)return null;switch(i.type){case"Point":return l=o(s),Ps(a,t,l,e);case"MultiPoint":for(d=0,p=s.length;d<p;d++)l=o(s[d]),r.push(Ps(a,t,l,e));return new Pt(r);case"LineString":case"MultiLineString":return h=Ie(s,i.type==="LineString"?0:1,o),new Lt(h,e);case"Polygon":case"MultiPolygon":return h=Ie(s,i.type==="Polygon"?1:2,o),new Kt(h,e);case"GeometryCollection":for(d=0,p=i.geometries.length;d<p;d++){var b=Ae({geometry:i.geometries[d],type:"Feature",properties:t.properties},e);b&&r.push(b)}return new Pt(r);case"FeatureCollection":for(d=0,p=i.features.length;d<p;d++){var C=Ae(i.features[d],e);C&&r.push(C)}return new Pt(r);default:throw new Error("Invalid GeoJSON object.")}}function Ps(t,e,i,s){return t?t(e,i):new ze(i,s&&s.markersInheritOptions&&s)}function Ni(t){return new Z(t[1],t[0],t[2])}function Ie(t,e,i){for(var s=[],r=0,a=t.length,o;r<a;r++)o=e?Ie(t[r],e-1,i):(i||Ni)(t[r]),s.push(o);return s}function ji(t,e){return t=A(t),t.alt!==void 0?[U(t.lng,e),U(t.lat,e),U(t.alt,e)]:[U(t.lng,e),U(t.lat,e)]}function Oe(t,e,i,s){for(var r=[],a=0,o=t.length;a<o;a++)r.push(e?Oe(t[a],ct(t[a])?0:e-1,i,s):ji(t[a],s));return!e&&i&&r.length>0&&r.push(r[0].slice()),r}function Yt(t,e){return t.feature?g({},t.feature,{geometry:e}):Be(e)}function Be(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Pi={toGeoJSON:function(t){return Yt(this,{type:"Point",coordinates:ji(this.getLatLng(),t)})}};ze.include(Pi),bi.include(Pi),Ee.include(Pi),Lt.include({toGeoJSON:function(t){var e=!ct(this._latlngs),i=Oe(this._latlngs,e?1:0,!1,t);return Yt(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Kt.include({toGeoJSON:function(t){var e=!ct(this._latlngs),i=e&&!ct(this._latlngs[0]),s=Oe(this._latlngs,i?2:e?1:0,!0,t);return e||(s=[s]),Yt(this,{type:(i?"Multi":"")+"Polygon",coordinates:s})}}),Vt.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Yt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",s=[];return this.eachLayer(function(r){if(r.toGeoJSON){var a=r.toGeoJSON(t);if(i)s.push(a.geometry);else{var o=Be(a);o.type==="FeatureCollection"?s.push.apply(s,o.features):s.push(o)}}}),i?Yt(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function Ls(t,e){return new Tt(t,e)}var dr=Ls,Ze=ft.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=$(e),B(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(M(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){q(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ut(this._image),this},bringToBack:function(){return this._map&&Gt(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=$(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:O("img");if(M(e,"leaflet-image-layer"),this._zoomAnimated&&M(e,"leaflet-zoom-animated"),this.options.className&&M(e,this.options.className),e.onselectstart=E,e.onmousemove=E,e.onload=v(this.fire,this,"load"),e.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Bt(this._image,i,e)},_reset:function(){var t=this._image,e=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();K(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){ht(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),mr=function(t,e,i){return new Ze(t,e,i)},Ts=Ze.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:O("video");if(M(e,"leaflet-image-layer"),this._zoomAnimated&&M(e,"leaflet-zoom-animated"),this.options.className&&M(e,this.options.className),e.onselectstart=E,e.onmousemove=E,e.onloadeddata=v(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),s=[],r=0;r<i.length;r++)s.push(i[r].src);this._url=i.length>0?s:[e.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var o=O("source");o.src=this._url[a],e.appendChild(o)}}});function ur(t,e,i){return new Ts(t,e,i)}var ks=Ze.extend({_initImage:function(){var t=this._image=this._url;M(t,"leaflet-image-layer"),this._zoomAnimated&&M(t,"leaflet-zoom-animated"),this.options.className&&M(t,this.options.className),t.onselectstart=E,t.onmousemove=E}});function fr(t,e,i){return new ks(t,e,i)}var wt=ft.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof Z||R(t))?(this._latlng=A(t),B(this,e)):(B(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ht(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ht(this._container,1),this.bringToFront(),this.options.interactive&&(M(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ht(this._container,0),this._removeTimeout=setTimeout(v(q,void 0,this._container),200)):q(this._container),this.options.interactive&&(V(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=A(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ut(this._container),this},bringToBack:function(){return this._map&&Gt(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Pt){e=null;var i=this._source._layers;for(var s in i)if(i[s]._map){e=i[s];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=P(this.options.offset),i=this._getAnchor();this._zoomAnimated?K(this._container,t.add(i)):e=e.add(t).add(i);var s=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=s+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});I.include({_initOverlay:function(t,e,i,s){var r=e;return r instanceof t||(r=new t(s).setContent(e)),i&&r.setLatLng(i),r}}),ft.include({_initOverlay:function(t,e,i,s){var r=i;return r instanceof t?(B(r,s),r._source=this):(r=e&&!s?e:new t(s,this),r.setContent(i)),r}});var Re=wt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,wt.prototype.openOn.call(this,t)},onAdd:function(t){wt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zt||this._source.on("preclick",Rt))},onRemove:function(t){wt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zt||this._source.off("preclick",Rt))},getEvents:function(){var t=wt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=O("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=O("div",t+"-content-wrapper",e);if(this._contentNode=O("div",t+"-content",i),pe(e),fi(this._contentNode),k(e,"contextmenu",Rt),this._tipContainer=O("div",t+"-tip-container",e),this._tip=O("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=O("a",t+"-close-button",e);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',k(s,"click",function(r){X(r),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var s=t.offsetHeight,r=this.options.maxHeight,a="leaflet-popup-scrolled";r&&s>r?(e.height=r+"px",M(t,a)):V(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();K(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(de(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,s=this._containerWidth,r=new T(this._containerLeft,-i-this._containerBottom);r._add(Zt(this._container));var a=t.layerPointToContainerPoint(r),o=P(this.options.autoPanPadding),l=P(this.options.autoPanPaddingTopLeft||o),h=P(this.options.autoPanPaddingBottomRight||o),d=t.getSize(),p=0,b=0;a.x+s+h.x>d.x&&(p=a.x+s-d.x+h.x),a.x-p-l.x<0&&(p=a.x-l.x),a.y+i+h.y>d.y&&(b=a.y+i-d.y+h.y),a.y-b-l.y<0&&(b=a.y-l.y),(p||b)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([p,b]))}},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),pr=function(t,e){return new Re(t,e)};I.mergeOptions({closePopupOnClick:!0}),I.include({openPopup:function(t,e,i){return this._initOverlay(Re,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),ft.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Re,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Pt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Dt(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof zt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var De=wt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){wt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){wt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=wt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=O("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,s=this._map,r=this._container,a=s.latLngToContainerPoint(s.getCenter()),o=s.layerPointToContainerPoint(t),l=this.options.direction,h=r.offsetWidth,d=r.offsetHeight,p=P(this.options.offset),b=this._getAnchor();l==="top"?(e=h/2,i=d):l==="bottom"?(e=h/2,i=0):l==="center"?(e=h/2,i=d/2):l==="right"?(e=0,i=d/2):l==="left"?(e=h,i=d/2):o.x<a.x?(l="right",e=0,i=d/2):(l="left",e=h+(p.x+b.x)*2,i=d/2),t=t.subtract(P(e,i,!0)).add(p).add(b),V(r,"leaflet-tooltip-right"),V(r,"leaflet-tooltip-left"),V(r,"leaflet-tooltip-top"),V(r,"leaflet-tooltip-bottom"),M(r,"leaflet-tooltip-"+l),K(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ht(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xr=function(t,e){return new De(t,e)};I.include({openTooltip:function(t,e,i){return this._initOverlay(De,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),ft.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(De,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Pt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(k(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),k(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,s;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(e)}});var Ss=$t.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(Le(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var s=P(i.bgPos);e.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function gr(t){return new Ss(t)}$t.Default=_e;var ve=ft.extend({options:{tileSize:256,opacity:1,updateWhenIdle:y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){B(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),q(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ut(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=H(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof T?t:new T(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),s=0,r=e.length,a;s<r;s++)a=e[s].style.zIndex,e[s]!==this._container&&a&&(i=t(i,+a));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!y.ielt9){ht(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var s in this._tiles){var r=this._tiles[s];if(!(!r.current||!r.loaded)){var a=Math.min(1,(t-r.loaded)/200);ht(r.el,a),a<1?e=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(lt(this._fadeFrame),this._fadeFrame=it(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=O("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(q(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var s=this._levels[t],r=this._map;return s||(s=this._levels[t]={},s.el=O("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=e,s.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,r.getCenter(),r.getZoom()),E(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var s=e.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)q(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,s){var r=Math.floor(t/2),a=Math.floor(e/2),o=i-1,l=new T(+r,+a);l.z=+o;var h=this._tileCoordsToKey(l),d=this._tiles[h];return d&&d.active?(d.retain=!0,!0):(d&&d.loaded&&(d.retain=!0),o>s?this._retainParent(r,a,o,s):!1)},_retainChildren:function(t,e,i,s){for(var r=2*t;r<2*t+2;r++)for(var a=2*e;a<2*e+2;a++){var o=new T(r,a);o.z=i+1;var l=this._tileCoordsToKey(o),h=this._tiles[l];if(h&&h.active){h.retain=!0;continue}else h&&h.loaded&&(h.retain=!0);i+1<s&&this._retainChildren(r,a,i+1,s)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,s){var r=Math.round(e);this.options.maxZoom!==void 0&&r>this.options.maxZoom||this.options.minZoom!==void 0&&r<this.options.minZoom?r=void 0:r=this._clampZoom(r);var a=this.options.updateWhenZooming&&r!==this._tileZoom;(!s||a)&&(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),r!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var s=this._map.getZoomScale(i,t.zoom),r=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(e,i)).round();y.any3d?Bt(t.el,r,s):K(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),s=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],s).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],s).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],s).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],s).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),s=e.getZoomScale(i,this._tileZoom),r=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(s*2);return new W(r.subtract(a),r.add(a))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(s),a=r.getCenter(),o=[],l=this.options.keepBuffer,h=new W(r.getBottomLeft().subtract([l,-l]),r.getTopRight().add([l,-l]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var d in this._tiles){var p=this._tiles[d].coords;(p.z!==this._tileZoom||!h.contains(new T(p.x,p.y)))&&(this._tiles[d].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var b=r.min.y;b<=r.max.y;b++)for(var C=r.min.x;C<=r.max.x;C++){var tt=new T(C,b);if(tt.z=this._tileZoom,!!this._isValidTile(tt)){var J=this._tiles[this._tileCoordsToKey(tt)];J?J.current=!0:o.push(tt)}}if(o.sort(function(rt,Xt){return rt.distanceTo(a)-Xt.distanceTo(a)}),o.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dt=document.createDocumentFragment();for(C=0;C<o.length;C++)this._addTile(o[C],dt);this._level.el.appendChild(dt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return $(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),s=t.scaleBy(i),r=s.add(i),a=e.unproject(s,t.z),o=e.unproject(r,t.z);return[a,o]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new nt(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new T(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(q(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){M(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=E,t.onmousemove=E,y.ielt9&&this.options.opacity<1&&ht(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),s=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),v(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&it(v(this._tileReady,this,t,null,r)),K(r,i),this._tiles[s]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var s=this._tileCoordsToKey(t);i=this._tiles[s],i&&(i.loaded=+new Date,this._map._fadeAnimated?(ht(i.el,0),lt(this._fadeFrame),this._fadeFrame=it(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(M(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),y.ielt9||!this._map._fadeAnimated?it(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new T(this._wrapX?z(t.x,this._wrapX):t.x,this._wrapY?z(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new W(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function _r(t){return new ve(t)}var Jt=ve.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=B(this,e),e.detectRetina&&y.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return k(i,"load",v(this._tileOnLoad,this,e,i)),k(i,"error",v(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:y.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return S(this._url,g(e,this.options))},_tileOnLoad:function(t,e){y.ielt9?setTimeout(v(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var s=this.options.errorTileUrl;s&&e.getAttribute("src")!==s&&(e.src=s),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,s=this.options.zoomOffset;return i&&(t=e-t),t+s},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=E,e.onerror=E,!e.complete)){e.src=j;var i=this._tiles[t].coords;q(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",j),ve.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===j))return ve.prototype._tileReady.call(this,t,e,i)}});function Ms(t,e){return new Jt(t,e)}var Cs=Jt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=g({},this.defaultWmsParams);for(var s in e)s in this.options||(i[s]=e[s]);e=B(this,e);var r=e.detectRetina&&y.retina?2:1,a=this.getTileSize();i.width=a.x*r,i.height=a.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Jt.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,s=st(i.project(e[0]),i.project(e[1])),r=s.min,a=s.max,o=(this._wmsVersion>=1.3&&this._crs===Ns?[r.y,r.x,a.y,a.x]:[r.x,r.y,a.x,a.y]).join(","),l=Jt.prototype.getTileUrl.call(this,t);return l+bt(this.wmsParams,l,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return g(this.wmsParams,t),e||this.redraw(),this}});function vr(t,e){return new Cs(t,e)}Jt.WMS=Cs,Ms.wms=vr;var kt=ft.extend({options:{padding:.1},initialize:function(t){B(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),M(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=s.multiplyBy(-i).add(r).subtract(this._map._getNewPixelOrigin(t,e));y.any3d?Bt(this._container,a,i):K(this._container,a)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new W(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zs=kt.extend({options:{tolerance:0},getEvents:function(){var t=kt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");k(t,"mousemove",this._onMouseMove,this),k(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),k(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){lt(this._redrawRequest),delete this._ctx,q(this._container),F(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kt.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),s=y.retina?2:1;K(e,t.min),e.width=s*i.x,e.height=s*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",y.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[m(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,s=e.prev;i?i.prev=s:this._drawLast=s,s?s.next=i:this._drawFirst=i,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],s,r;for(r=0;r<e.length;r++){if(s=Number(e[r]),isNaN(s))return;i.push(s)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||it(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,s,r,a,o=t._parts,l=o.length,h=this._ctx;if(l){for(h.beginPath(),i=0;i<l;i++){for(s=0,r=o[i].length;s<r;s++)a=o[i][s],h[s?"lineTo":"moveTo"](a.x,a.y);e&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,s=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||s)/s;r!==1&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(e.x,e.y/r,s,0,Math.PI*2,!1),r!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,s,r=this._drawFirst;r;r=r.next)i=r.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(s=i);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(V(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,s,r=this._drawFirst;r;r=r.next)i=r.layer,i.options.interactive&&i._containsPoint(e)&&(s=i);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(M(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,s=e.prev;if(i)i.prev=s;else return;s?s.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,s=e.prev;if(s)s.next=i;else return;i?i.prev=s:s&&(this._drawLast=s),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Es(t){return y.canvas?new zs(t):null}var ye=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),yr={_initContainer:function(){this._container=O("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ye("shape");M(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ye("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;q(e),t.removeInteractiveTarget(e),delete this._layers[m(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,s=t.options,r=t._container;r.stroked=!!s.stroke,r.filled=!!s.fill,s.stroke?(e||(e=t._stroke=ye("stroke")),r.appendChild(e),e.weight=s.weight+"px",e.color=s.color,e.opacity=s.opacity,s.dashArray?e.dashStyle=R(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=s.lineCap.replace("butt","flat"),e.joinstyle=s.lineJoin):e&&(r.removeChild(e),t._stroke=null),s.fill?(i||(i=t._fill=ye("fill")),r.appendChild(i),i.color=s.fillColor||s.color,i.opacity=s.fillOpacity):i&&(r.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),s=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+s+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ut(t._container)},_bringToBack:function(t){Gt(t._container)}},Fe=y.vml?ye:Bi,we=kt.extend({_initContainer:function(){this._container=Fe("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fe("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){q(this._container),F(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kt.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),K(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Fe("path");t.options.className&&M(e,t.options.className),t.options.interactive&&M(e,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){q(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Zi(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||i,r="a"+i+","+s+" 0 1,0 ",a=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+r+i*2+",0 "+r+-i*2+",0 ";this._setPath(t,a)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ut(t._path)},_bringToBack:function(t){Gt(t._path)}});y.vml&&we.include(yr);function As(t){return y.svg||y.vml?new we(t):null}I.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Es(t)||As(t)}});var Is=Kt.extend({initialize:function(t,e){Kt.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=$(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function wr(t,e){return new Is(t,e)}we.create=Fe,we.pointsToPath=Zi,Tt.geometryToLayer=Ae,Tt.coordsToLatLng=Ni,Tt.coordsToLatLngs=Ie,Tt.latLngToCoords=ji,Tt.latLngsToCoords=Oe,Tt.getFeature=Yt,Tt.asFeature=Be,I.mergeOptions({boxZoom:!0});var Os=yt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){k(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){q(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),me(),ai(),this._startPoint=this._map.mouseEventToContainerPoint(t),k(document,{contextmenu:Dt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=O("div","leaflet-zoom-box",this._container),M(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new W(this._point,this._startPoint),i=e.getSize();K(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(q(this._box),V(this._container,"leaflet-crosshair")),ue(),oi(),F(document,{contextmenu:Dt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var e=new nt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});I.addInitHook("addHandler","boxZoom",Os),I.mergeOptions({doubleClickZoom:!0});var Bs=yt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),s=e.options.zoomDelta,r=t.originalEvent.shiftKey?i-s:i+s;e.options.doubleClickZoom==="center"?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});I.addInitHook("addHandler","doubleClickZoom",Bs),I.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zs=yt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ct(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}M(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){V(this._map._container,"leaflet-grab"),V(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=$(this._map.options.maxBounds);this._offsetLimit=st(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,s=this._draggable._newPos.x,r=(s-e+i)%t+e-i,a=(s+e+i)%t-e-i,o=Math.abs(r+i)<Math.abs(a+i)?r:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(t){var e=this._map,i=e.options,s=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),s)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=i.easeLinearity,l=r.multiplyBy(o/a),h=l.distanceTo([0,0]),d=Math.min(i.inertiaMaxSpeed,h),p=l.multiplyBy(d/h),b=d/(i.inertiaDeceleration*o),C=p.multiplyBy(-b/2).round();!C.x&&!C.y?e.fire("moveend"):(C=e._limitOffset(C,e.options.maxBounds),it(function(){e.panBy(C,{duration:b,easeLinearity:o,noMoveStart:!0,animate:!0})}))}}});I.addInitHook("addHandler","dragging",Zs),I.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rs=yt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),k(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),F(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,s=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(s,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,s,r;for(s=0,r=i.left.length;s<r;s++)e[i.left[s]]=[-1*t,0];for(s=0,r=i.right.length;s<r;s++)e[i.right[s]]=[t,0];for(s=0,r=i.down.length;s<r;s++)e[i.down[s]]=[0,t];for(s=0,r=i.up.length;s<r;s++)e[i.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,s,r;for(s=0,r=i.zoomIn.length;s<r;s++)e[i.zoomIn[s]]=t;for(s=0,r=i.zoomOut.length;s<r;s++)e[i.zoomOut[s]]=-t},_addHooks:function(){k(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){F(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,s;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(s=this._panKeys[e],t.shiftKey&&(s=P(s).multiplyBy(3)),i.options.maxBounds&&(s=i._limitOffset(P(s),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(s)));i.panTo(r)}else i.panBy(s)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;Dt(t)}}});I.addInitHook("addHandler","keyboard",Rs),I.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ds=yt.extend({addHooks:function(){k(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=cs(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),s),Dt(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),r=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,a=i?Math.ceil(r/i)*i:r,o=t._limitZoom(e+(this._delta>0?a:-a))-e;this._delta=0,this._startTime=null,o&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});I.addInitHook("addHandler","scrollWheelZoom",Ds);var br=600;I.mergeOptions({tapHold:y.touchNative&&y.safari&&y.mobile,tapTolerance:15});var Fs=yt.extend({addHooks:function(){k(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new T(e.clientX,e.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(k(document,"touchend",X),k(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),br),k(document,"touchend touchcancel contextmenu",this._cancel,this),k(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){F(document,"touchend",X),F(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new T(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});I.addInitHook("addHandler","tapHold",Fs),I.mergeOptions({touchZoom:y.touch,bounceAtZoomLimits:!0});var Hs=yt.extend({addHooks:function(){M(this._map._container,"leaflet-touch-zoom"),k(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){V(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),s=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(s)._divideBy(2))),this._startDist=i.distanceTo(s),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),k(document,"touchmove",this._onTouchMove,this),k(document,"touchend touchcancel",this._onTouchEnd,this),X(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),s=e.mouseEventToContainerPoint(t.touches[1]),r=i.distanceTo(s)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,r===1)return}else{var a=i._add(s)._divideBy(2)._subtract(this._centerPoint);if(r===1&&a.x===0&&a.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),lt(this._animRequest);var o=v(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=it(o,this,!0),X(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,lt(this._animRequest),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});I.addInitHook("addHandler","touchZoom",Hs),I.BoxZoom=Os,I.DoubleClickZoom=Bs,I.Drag=Zs,I.Keyboard=Rs,I.ScrollWheelZoom=Ds,I.TapHold=Fs,I.TouchZoom=Hs,c.Bounds=W,c.Browser=y,c.CRS=jt,c.Canvas=zs,c.Circle=bi,c.CircleMarker=Ee,c.Class=Nt,c.Control=ut,c.DivIcon=Ss,c.DivOverlay=wt,c.DomEvent=Dn,c.DomUtil=Zn,c.Draggable=Ct,c.Evented=oe,c.FeatureGroup=Pt,c.GeoJSON=Tt,c.GridLayer=ve,c.Handler=yt,c.Icon=$t,c.ImageOverlay=Ze,c.LatLng=Z,c.LatLngBounds=nt,c.Layer=ft,c.LayerGroup=Vt,c.LineUtil=Qn,c.Map=I,c.Marker=ze,c.Mixin=Vn,c.Path=zt,c.Point=T,c.PolyUtil=$n,c.Polygon=Kt,c.Polyline=Lt,c.Popup=Re,c.PosAnimation=ds,c.Projection=tr,c.Rectangle=Is,c.Renderer=kt,c.SVG=we,c.SVGOverlay=ks,c.TileLayer=Jt,c.Tooltip=De,c.Transformation=$e,c.Util=an,c.VideoOverlay=Ts,c.bind=v,c.bounds=st,c.canvas=Es,c.circle=lr,c.circleMarker=or,c.control=xe,c.divIcon=gr,c.extend=g,c.featureGroup=nr,c.geoJSON=Ls,c.geoJson=dr,c.gridLayer=_r,c.icon=rr,c.imageOverlay=mr,c.latLng=A,c.latLngBounds=$,c.layerGroup=sr,c.map=Fn,c.marker=ar,c.point=P,c.polygon=cr,c.polyline=hr,c.popup=pr,c.rectangle=wr,c.setOptions=B,c.stamp=m,c.svg=As,c.svgOverlay=fr,c.tileLayer=Ms,c.tooltip=xr,c.transformation=le,c.version=w,c.videoOverlay=ur;var Nr=window.L;c.noConflict=function(){return window.L=Nr,this},window.L=c}))})(be,be.exports)),be.exports}var la=oa();const Ht=Wr(la);delete Ht.Icon.Default.prototype._getIconUrl;Ht.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const ha=()=>{const[u,_]=D.useState(0),c=D.useRef(null),w=D.useRef(null),g=D.useRef([]),f=[{id:1,name:"Chatham Park Residence",address:"1000 Chatham Park Dr, Pittsburgh, PA 15216",price:34e4,beds:3,baths:2.5,sqft:1850,image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",coordinates:{lat:40.3995,lng:-79.9667},features:["Garage","Updated Kitchen","Hardwood Floors","Central AC"],status:"For Rent"},{id:2,name:"Canterbury Dr Home",address:"2600 Canterbury Dr, Imperial, PA 15126",price:288e3,beds:4,baths:3,sqft:2200,image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2053&q=80",coordinates:{lat:40.4376,lng:-80.2667},features:["Large Yard","Updated Bathrooms","Attached Garage","Deck"],status:"For Rent"},{id:3,name:"Overlook Court Townhouse",address:"246 Overlook Ct, Coraopolis, PA 15108",price:228e3,beds:2,baths:2,sqft:1400,image:"https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",coordinates:{lat:40.5167,lng:-80.1667},features:["Modern Appliances","Pet Friendly","Parking","Balcony"],status:"For Rent"},{id:4,name:"Fielbrook Dr Property",address:"228 Fielbrook Dr, Canonsburg, PA 15317",price:312e3,beds:3,baths:2.5,sqft:1950,image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",coordinates:{lat:40.2626,lng:-80.1923},features:["Large Lot","Two-Car Garage","Updated Features","Fireplace"],status:"For Rent"},{id:5,name:"Elm Court Apartment",address:"1115 Elm Ct, Oakdale, PA 15071",price:21e4,beds:2,baths:1.5,sqft:1200,image:"https://images.unsplash.com/photo-1600607687644-c7171b42498b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",coordinates:{lat:40.3995,lng:-80.1833},features:["Updated Kitchen","Cable Ready","Parking","Laundry"],status:"For Rent"}],v=x=>{const m=`https://www.google.com/maps/dir/?api=1&destination=${x.coordinates.lat},${x.coordinates.lng}`;window.open(m,"_blank")};return D.useEffect(()=>{if(c.current&&!w.current){const x=Ht.map(c.current).setView([40.4432,-79.9428],13);w.current=x,Ht.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(x),f.forEach((m,H)=>{const z=Ht.marker([m.coordinates.lat,m.coordinates.lng]).addTo(x).bindPopup(`
            <div class="p-2 text-center">
              <h3 class="font-bold text-primary text-sm">${m.name}</h3>
              <p class="text-lg font-bold text-primary">$${(m.price||0).toLocaleString()}</p>
              <p class="text-xs text-gray-600">${m.beds}B ${m.baths}BA  ${(m.sqft||0).toLocaleString()} sq ft</p>
            </div>
          `);z.on("click",()=>{_(H)}),g.current.push(z)})}return()=>{w.current&&(w.current.remove(),w.current=null,g.current=[])}},[]),D.useEffect(()=>{g.current.forEach((x,m)=>{m===u?x.setIcon(Ht.divIcon({className:"custom-marker-selected",html:`<div class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold shadow-lg">${m+1}</div>`,iconSize:[32,32],iconAnchor:[16,16]})):x.setIcon(Ht.divIcon({className:"custom-marker",html:`<div class="w-6 h-6 bg-white text-primary rounded-full flex items-center justify-center font-bold shadow-md border-2 border-primary">${m+1}</div>`,iconSize:[24,24],iconAnchor:[12,12]}))})},[u]),n.jsx("section",{className:"relative bg-gradient-to-br from-blue-50/30 via-slate-50/50 to-indigo-50/20 py-6 sm:py-8 md:py-10",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-5 lg:px-6 max-w-6xl w-full",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-10 pt-20 sm:pt-22",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-primary mb-3 sm:mb-4 md:mb-5 animate-fade-in-up px-2",children:"Pittsburgh Real Estate Map"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed animate-fade-in-up-delay px-4",children:"Explore our featured properties across Pittsburgh, PA with interactive maps. Click on any property marker to see basic details."}),n.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-wrap justify-center items-center gap-2 sm:gap-3 md:gap-4 animate-fade-in-up-delay px-2",children:[n.jsx(pt,{variant:"outline",className:"px-4 py-2",children:"Pittsburgh, PA"}),n.jsx(pt,{variant:"outline",className:"px-4 py-2",children:"Pittsburgh"}),n.jsx(pt,{variant:"outline",className:"px-4 py-2",children:"Imperial"}),n.jsx(pt,{variant:"outline",className:"px-4 py-2",children:"Coraopolis"}),n.jsx(pt,{variant:"outline",className:"px-4 py-2",children:"Canonsburg"}),n.jsx(pt,{variant:"outline",className:"px-4 py-2",children:"Oakdale"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 md:gap-5 max-w-6xl mx-auto pb-6 sm:pb-8 md:pb-10 w-full items-stretch",children:[n.jsxs("div",{className:"space-y-4 sm:space-y-5 lg:sticky lg:top-24 lg:self-start",children:[n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition animate-fade-in-up",children:[n.jsx(qe,{className:"p-3 sm:p-4 md:p-5",children:n.jsxs(Ot,{className:"flex items-center gap-2 text-lg sm:text-xl md:text-2xl",children:[n.jsx(se,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),"Property Locations"]})}),n.jsx(xt,{className:"p-0",children:n.jsxs("div",{className:"relative h-[350px] sm:h-[400px] md:h-[450px] rounded-lg overflow-hidden",children:[n.jsx("div",{ref:c,className:"w-full h-full rounded-lg"}),n.jsxs("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg z-[1000]",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(se,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-medium",children:"Pittsburgh, PA"})]}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Pittsburgh Area Rentals"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Powered by OpenStreetMap"})]})]})})]}),n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition animate-fade-in-up",children:[n.jsx(qe,{className:"p-3 sm:p-4 md:p-5",children:n.jsxs(Ot,{className:"flex items-center gap-2 text-lg sm:text-xl md:text-2xl",children:[n.jsx(Ne,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),"All Properties"]})}),n.jsx(xt,{className:"p-3 sm:p-4 md:p-5",children:n.jsx("div",{className:"space-y-2.5 max-h-[280px] sm:max-h-[320px] md:max-h-[360px] overflow-y-auto",children:f.map((x,m)=>n.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${u===m?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50 hover:bg-gray-50"}`,onClick:()=>_(m),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-sm text-primary",children:x.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:x.address})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm font-bold text-primary",children:["$",(x.price||0).toLocaleString()]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[x.beds,"B ",x.baths,"BA"]})]})]})},x.id))})})]})]}),n.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition animate-fade-in-up",children:[n.jsx(qe,{className:"p-3 sm:p-4 md:p-5",children:n.jsxs(Ot,{className:"flex items-center gap-2 text-lg sm:text-xl md:text-2xl",children:[n.jsx(Ne,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),"Property Details"]})}),n.jsx(xt,{className:"p-3 sm:p-4 md:p-5",children:f[u]&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:n.jsx("img",{src:f[u].image,alt:f[u].name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-primary mb-2 sm:mb-3",children:f[u].name}),n.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mb-3 sm:mb-4",children:f[u].address}),n.jsx("div",{className:"flex items-center gap-2 mb-4 sm:mb-5",children:n.jsx(pt,{variant:f[u].status==="For Sale"?"default":"secondary",className:"text-xs sm:text-sm",children:f[u].status})}),n.jsxs("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary mb-4 sm:mb-5",children:["$",(f[u]?.price||0).toLocaleString()]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-5",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Js,{className:"h-5 w-5 text-muted-foreground mx-auto mb-1"}),n.jsx("div",{className:"text-sm font-semibold",children:f[u].beds}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Beds"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Xs,{className:"h-5 w-5 text-muted-foreground mx-auto mb-1"}),n.jsx("div",{className:"text-sm font-semibold",children:f[u].baths}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Baths"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Or,{className:"h-5 w-5 text-muted-foreground mx-auto mb-1"}),n.jsx("div",{className:"text-sm font-semibold",children:(f[u]?.sqft||0).toLocaleString()}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Sq Ft"})]})]}),n.jsxs("div",{className:"space-y-2 mb-6",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Features:"}),n.jsx("div",{className:"grid grid-cols-2 gap-1",children:f[u].features.map((x,m)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:x})]},m))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Q,{onClick:()=>v(f[u]),className:"w-full",children:[n.jsx(qr,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),n.jsxs(Q,{variant:"outline",className:"w-full",children:[n.jsx(ie,{className:"h-4 w-4 mr-2"}),"Contact Agent"]})]})]})]})})]}),n.jsx(et,{className:"shadow-professional hover:shadow-professional-hover section-transition animate-fade-in-up",children:n.jsxs(xt,{className:"p-3 sm:p-4 md:p-5",children:[n.jsx("h4",{className:"font-semibold text-primary mb-3 sm:mb-4 text-lg sm:text-xl",children:"Market Overview"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Properties Listed"}),n.jsx("span",{className:"text-sm font-semibold",children:f.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Price"}),n.jsxs("span",{className:"text-sm font-semibold",children:["$",f.length>0?Math.round(f.reduce((x,m)=>x+(m.price||0),0)/f.length).toLocaleString():"0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Price Range"}),n.jsx("span",{className:"text-sm font-semibold",children:f.length>0?`$${Math.min(...f.map(x=>x.price||0)).toLocaleString()} - $${Math.max(...f.map(x=>x.price||0)).toLocaleString()}`:"$0 - $0"})]})]})]})})]})]})]})})},ca=()=>{const u=[{icon:Ne,title:"Property Sales",description:"Expert guidance in buying and selling residential and commercial properties with maximum value realization.",features:["Market Analysis","Negotiation","Legal Support","Closing Assistance"],color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-600"},{icon:Ci,title:"Investment Advisory",description:"Strategic real estate investment advice to build and optimize your property portfolio for long-term growth.",features:["Portfolio Analysis","ROI Optimization","Market Trends","Risk Assessment"],color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-600"},{icon:Mi,title:"Property Management",description:"Comprehensive property management services ensuring your investments are well-maintained and profitable.",features:["Tenant Screening","Maintenance","Rent Collection","Financial Reporting"],color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-600"},{icon:zi,title:"Client Relations",description:"Personalized service and ongoing support throughout your real estate journey and beyond.",features:["24/7 Support","Personal Agent","Follow-up Service","Referral Program"],color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50",textColor:"text-orange-600"},{icon:Vr,title:"Market Analysis",description:"In-depth market research and valuation services to help you make informed property decisions.",features:["Property Valuation","Market Reports","Comparable Sales","Trend Analysis"],color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-50",textColor:"text-indigo-600"},{icon:se,title:"Location Scouting",description:"Expert neighborhood analysis and location scouting to find properties that match your lifestyle and goals.",features:["Neighborhood Research","School Districts","Amenities Analysis","Future Development"],color:"from-teal-500 to-teal-600",bgColor:"bg-teal-50",textColor:"text-teal-600"}];return n.jsx("section",{id:"services",className:"py-6 sm:py-8 md:py-10 bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-5 lg:px-6 max-w-6xl",children:[n.jsxs("div",{className:"text-center mb-5 sm:mb-6 md:mb-8 animate-fade-in-up",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-2 sm:mb-3 md:mb-4 px-2",children:"Our Services"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed px-4",children:"Comprehensive real estate services tailored to meet your unique needs and exceed your expectations. Our expert team delivers exceptional results through innovative solutions and personalized service."})]}),n.jsx("div",{className:"max-w-6xl mx-auto w-full",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-5 items-stretch",children:u.map((_,c)=>{const w=_.icon;return n.jsx(et,{className:"service-card group animate-fade-in-up",style:{animationDelay:`${c*.1}s`},children:n.jsxs(xt,{className:"p-3 sm:p-4 md:p-5",children:[n.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-r ${_.color} rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-3 sm:mb-4 md:mb-5 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:n.jsx(w,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-7 md:w-7 text-white"})}),n.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-primary mb-2 sm:mb-3 text-center group-hover:text-gray-700 transition-colors duration-300",children:_.title}),n.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed mb-3 sm:mb-4 text-center",children:_.description}),n.jsx("ul",{className:"space-y-2 sm:space-y-3",children:_.features.map((g,f)=>n.jsxs("li",{className:"flex items-center gap-2 sm:gap-3 text-muted-foreground group-hover:text-gray-600 transition-colors duration-300",children:[n.jsx(Ei,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-500 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm",children:g})]},f))}),n.jsx("div",{className:`absolute inset-0 ${_.bgColor} opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-xl`})]})},_.title)})})})]})})},sn="http://localhost:3001/api",da=async()=>{try{const u=await fetch(`${sn}/reviews`);if(!u.ok)throw new Error("Failed to fetch reviews");return(await u.json()).reviews?.map(c=>({...c,text:c.text||c.review_text||"",created_at:c.created_at||c.createdAt||new Date().toISOString()}))||[]}catch(u){return console.error("Error fetching reviews:",u),rn()}},ma=async u=>{try{const _=await fetch(`${sn}/reviews`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u.name,email:u.email,location:u.location||"",rating:u.rating,review_text:u.review_text,property_type:u.property_type||""})});if(!_.ok){const w=await _.json().catch(()=>({message:"Failed to submit review"}));throw new Error(w.message||"Failed to submit review")}const c=await _.json();return $s(c.review),{success:!0,message:c.message||"Review submitted successfully!",review:c.review}}catch(_){console.error("Error submitting review:",_);const w={id:Date.now(),name:u.name,email:u.email,location:u.location,rating:u.rating,text:u.review_text,review_text:u.review_text,property_type:u.property_type,created_at:new Date().toISOString(),status:"pending"};return $s(w),{success:!0,message:"Review saved locally. It will be synced when the server is available.",review:w}}},nn="pittmetro_reviews",rn=()=>{try{const u=localStorage.getItem(nn);if(u)return JSON.parse(u)}catch(u){console.error("Error reading from localStorage:",u)}return[]},$s=u=>{try{const _=rn();_.unshift(u),localStorage.setItem(nn,JSON.stringify(_))}catch(_){console.error("Error storing review locally:",_)}},ua=u=>{if(u.length===0)return{totalReviews:0,averageRating:0,fiveStarReviews:0,fourStarReviews:0,threeStarReviews:0,twoStarReviews:0,oneStarReviews:0};const _=u.length,w=u.reduce((f,v)=>f+v.rating,0)/_,g=u.reduce((f,v)=>(f[v.rating]++,f),{5:0,4:0,3:0,2:0,1:0});return{totalReviews:_,averageRating:Math.round(w*10)/10,fiveStarReviews:g[5],fourStarReviews:g[4],threeStarReviews:g[3],twoStarReviews:g[2],oneStarReviews:g[1]}},fa=()=>{const[u,_]=D.useState(!1),[c,w]=D.useState([]),[g,f]=D.useState({totalReviews:0,averageRating:0,fiveStarReviews:0,fourStarReviews:0,threeStarReviews:0,twoStarReviews:0,oneStarReviews:0}),[v,x]=D.useState(!0),[m,H]=D.useState(!1),[z,E]=D.useState({name:"",email:"",location:"",rating:5,text:"",review_text:"",property_type:""}),{toast:U}=Ir();D.useEffect(()=>{gt()},[]);const gt=async()=>{try{x(!0);const R=(await da()).sort((j,mt)=>{const Wt=new Date(j.created_at).getTime();return new Date(mt.created_at).getTime()-Wt});w(R);const N=ua(R);f(N)}catch(S){console.error("Error loading reviews:",S),U({title:"Error loading reviews",description:"Unable to load reviews. Please try again later.",variant:"destructive"})}finally{x(!1)}},G=async S=>{if(S.preventDefault(),!z.name||!z.email||!z.text){U({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}H(!0);try{const R=await ma({name:z.name,email:z.email,location:z.location,rating:z.rating,review_text:z.text,property_type:z.property_type});R.success&&(U({title:"Review submitted!",description:R.message||"Thank you for your review. It will be displayed after approval."}),E({name:"",email:"",location:"",rating:5,text:"",review_text:"",property_type:""}),_(!1),await gt())}catch(R){U({title:"Error submitting review",description:R.message||"Unable to submit review. Please try again later.",variant:"destructive"})}finally{H(!1)}},B=S=>Array.from({length:5},(R,N)=>n.jsx(ne,{className:`h-4 w-4 ${N<S?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},N)),bt=(S,R)=>n.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(N=>n.jsx("button",{type:"button",onClick:()=>R(N),className:"focus:outline-none transition-transform hover:scale-110",disabled:m,children:n.jsx(ne,{className:`h-6 w-6 transition-colors ${N<=S?"fill-yellow-400 text-yellow-400":"text-gray-300"} hover:text-yellow-400`})},N))}),re=S=>{try{return new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return S}};return n.jsx("section",{className:"py-6 sm:py-8 md:py-10 bg-gradient-to-br from-blue-50/30 via-slate-50/50 to-indigo-50/20",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-5 lg:px-6 max-w-6xl w-full",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-10 animate-fade-in-up",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-serif font-bold text-primary mb-3 sm:mb-4 px-2",children:"What Our Clients Say"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"Real stories from satisfied clients across Pittsburgh. Share your experience!"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5 mb-6 sm:mb-8 md:mb-10 animate-fade-in-up items-stretch",children:[n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition text-center p-4",children:[n.jsx(Ot,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary mb-1.5",children:v?n.jsx(te,{className:"h-6 w-6 animate-spin mx-auto"}):g.totalReviews}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Reviews"})]}),n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition text-center p-4",children:[n.jsx(Ot,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary mb-1.5",children:v?n.jsx(te,{className:"h-6 w-6 animate-spin mx-auto"}):g.averageRating.toFixed(1)}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Average Rating"})]}),n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition text-center p-4",children:[n.jsx(Ot,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary mb-1.5",children:v?n.jsx(te,{className:"h-6 w-6 animate-spin mx-auto"}):g.fiveStarReviews}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"5 Star Reviews"})]}),n.jsxs(et,{className:"shadow-professional hover:shadow-professional-hover section-transition text-center p-4",children:[n.jsx(Ot,{className:"text-xl sm:text-2xl md:text-3xl font-bold text-primary mb-1.5",children:v?n.jsx(te,{className:"h-6 w-6 animate-spin mx-auto"}):g.fourStarReviews}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"4 Star Reviews"})]})]}),v?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx(te,{className:"h-12 w-12 animate-spin text-primary"})}):c.length===0?n.jsx(et,{className:"max-w-2xl mx-auto shadow-professional animate-fade-in-up",children:n.jsxs(xt,{className:"p-12 text-center",children:[n.jsx(Si,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-semibold text-primary mb-2",children:"No Reviews Yet"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Be the first to share your experience with Pitt Metro Realty!"}),n.jsxs(Q,{onClick:()=>_(!0),children:[n.jsx(ee,{className:"h-4 w-4 mr-2"}),"Write the First Review"]})]})}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-5 mb-6 sm:mb-8 md:mb-10 animate-fade-in-up",children:c.map((S,R)=>n.jsx(et,{className:"shadow-professional hover:shadow-professional-hover section-transition group animate-fade-in-up",style:{animationDelay:`${R*.1}s`},children:n.jsxs(xt,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex",children:B(S.rating)}),n.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:re(S.created_at)})]}),n.jsx("div",{className:"relative mb-6",children:n.jsxs("p",{className:"text-muted-foreground italic leading-relaxed pl-6 relative",children:[n.jsx("span",{className:"absolute left-0 top-0 text-primary text-4xl font-serif leading-none",children:'"'}),S.text||S.review_text,n.jsx("span",{className:"absolute bottom-0 text-primary text-4xl font-serif leading-none",children:'"'})]})}),n.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t",children:[n.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-primary to-primary/80 text-white rounded-full flex items-center justify-center font-semibold text-sm shadow-md",children:S.name.split(" ").map(N=>N[0]).join("").toUpperCase()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-primary truncate",children:S.name}),S.location&&n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:S.location}),S.property_type&&n.jsx("p",{className:"text-xs text-primary font-medium mt-1 truncate",children:S.property_type})]})]})]})},S.id))}),n.jsx("div",{className:"text-center mt-6 sm:mt-8 md:mt-10 animate-fade-in-up",children:u?n.jsxs(et,{className:"max-w-2xl mx-auto shadow-professional animate-scale-in",children:[n.jsx(qe,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Si,{className:"h-5 w-5 text-primary"}),"Write Your Review"]})}),n.jsx(xt,{children:n.jsxs("form",{onSubmit:G,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qt,{htmlFor:"name",children:"Full Name *"}),n.jsx(St,{id:"name",placeholder:"Your full name",value:z.name,onChange:S=>E({...z,name:S.target.value}),required:!0,disabled:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qt,{htmlFor:"email",children:"Email *"}),n.jsx(St,{id:"email",type:"email",placeholder:"your@email.com",value:z.email,onChange:S=>E({...z,email:S.target.value}),required:!0,disabled:m})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qt,{htmlFor:"location",children:"Location"}),n.jsx(St,{id:"location",placeholder:"City, State (e.g., Pittsburgh, PA)",value:z.location,onChange:S=>E({...z,location:S.target.value}),disabled:m})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qt,{htmlFor:"property_type",children:"Property Type"}),n.jsx(St,{id:"property_type",placeholder:"e.g., Purchased $650K Condo",value:z.property_type,onChange:S=>E({...z,property_type:S.target.value}),disabled:m})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qt,{children:"Rating *"}),bt(z.rating,S=>E({...z,rating:S})),n.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[z.rating," out of 5 stars"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Qt,{htmlFor:"review",children:"Your Review *"}),n.jsx(Qs,{id:"review",placeholder:"Share your experience with Pitt Metro Realty...",className:"min-h-[120px]",value:z.text,onChange:S=>E({...z,text:S.target.value,review_text:S.target.value}),required:!0,disabled:m})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(Q,{type:"button",variant:"outline",onClick:()=>{_(!1),E({name:"",email:"",location:"",rating:5,text:"",review_text:"",property_type:""})},disabled:m,children:"Cancel"}),n.jsx(Q,{type:"submit",className:"bg-primary hover:bg-primary/90",disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx(te,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):n.jsxs(n.Fragment,{children:["Submit Review",n.jsx(ee,{className:"h-4 w-4 ml-2"})]})})]})]})})]}):n.jsx(et,{className:"inline-block shadow-professional hover:shadow-professional-hover section-transition animate-scale-in",children:n.jsxs(xt,{className:"p-5 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[n.jsx(Si,{className:"h-6 w-6 text-primary"}),n.jsx("span",{className:"font-semibold text-sm sm:text-base md:text-lg",children:"Share Your Experience"})]}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Help others by sharing your experience with Pitt Metro Realty"}),n.jsxs(Q,{onClick:()=>_(!0),className:"bg-primary hover:bg-primary/90",children:[n.jsx(ee,{className:"h-4 w-4 mr-2"}),"Write a Review"]})]})})})]})})},pa=()=>{const u=[{icon:Fr,title:"Client-First Approach",description:"Every decision we make is guided by what's best for our clients' success and satisfaction.",color:"from-red-500 to-red-600"},{icon:Mi,title:"Integrity & Trust",description:"We maintain the highest ethical standards and build lasting relationships through transparency.",color:"from-blue-500 to-blue-600"},{icon:ta,title:"Innovation",description:"We leverage cutting-edge technology and creative solutions to deliver exceptional results.",color:"from-yellow-500 to-yellow-600"},{icon:Gs,title:"Excellence",description:"We strive for perfection in every transaction, ensuring outstanding outcomes for our clients.",color:"from-green-500 to-green-600"}];return n.jsx("section",{id:"about",className:"py-6 sm:py-8 md:py-10 bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-5 lg:px-6 max-w-6xl",children:[n.jsxs("div",{className:"text-center mb-5 sm:mb-6 md:mb-8 animate-fade-in-up",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-2 sm:mb-3 md:mb-4 px-2",children:"About Pitt Metro Realty"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed mb-4 sm:mb-6 px-4",children:"With over 15 years of experience in the real estate industry, Pitt Metro Realty has been the trusted partner for thousands of clients in their property journey."}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2.5 sm:gap-3 md:gap-4 mb-4 sm:mb-6 px-2",children:[n.jsxs(pt,{variant:"outline",className:"px-4 py-2 text-xs sm:text-sm flex items-center gap-2 bg-white/80 backdrop-blur-sm border-primary/30 hover:bg-primary/10 transition-all duration-300 hover:scale-105 group",children:[n.jsx("div",{className:"w-5 h-5 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-all duration-300",children:n.jsx(Gs,{className:"w-3.5 h-3.5 text-primary"})}),n.jsx("span",{className:"font-semibold",children:"Licensed & Certified"})]}),n.jsxs(pt,{variant:"outline",className:"px-4 py-2 text-xs sm:text-sm flex items-center gap-2 bg-white/80 backdrop-blur-sm border-primary/30 hover:bg-primary/10 transition-all duration-300 hover:scale-105 group",children:[n.jsx("div",{className:"w-5 h-5 bg-yellow-100 rounded-lg flex items-center justify-center group-hover:bg-yellow-200 transition-all duration-300",children:n.jsx(ne,{className:"w-3.5 h-3.5 text-yellow-600"})}),n.jsx("span",{className:"font-semibold",children:"Award Winning Team"})]}),n.jsxs(pt,{variant:"outline",className:"px-4 py-2 text-xs sm:text-sm flex items-center gap-2 bg-white/80 backdrop-blur-sm border-primary/30 hover:bg-primary/10 transition-all duration-300 hover:scale-105 group",children:[n.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-all duration-300",children:n.jsx(Mi,{className:"w-3.5 h-3.5 text-green-600"})}),n.jsx("span",{className:"font-semibold",children:"Insured & Bonded"})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden mb-6 sm:mb-8 md:mb-10 w-full",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] items-stretch",children:[n.jsxs("div",{className:"p-4 sm:p-5 md:p-6 lg:p-8 animate-slide-in-left flex flex-col justify-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-slate-900 mb-3 sm:mb-4 md:mb-5 tracking-wide",children:"MEET YOUR AGENT"}),n.jsxs("div",{className:"prose prose-sm sm:prose-base max-w-none text-slate-700",children:[n.jsx("p",{className:"text-sm sm:text-base md:text-lg leading-relaxed mb-3 sm:mb-4 md:mb-5",children:"With a stellar track record of over $125 million in sales from 2020 to 2024, I bring over two decades of experience and hundreds of closed transactions to every client. My approach is built on positivity, professionalism, and an unparalleled dedication to delivering exceptional service and results."}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg leading-relaxed",children:"My tenacious work ethic drives me to go above and beyond for my clients, persisting where others might falter. I firmly believe in never taking no for an answer  where there is a will, there is a way, and I am relentless in my pursuit of finding it."})]})]}),n.jsx("div",{className:"bg-slate-50 p-4 sm:p-5 md:p-6 lg:p-8 border-t lg:border-t-0 lg:border-l border-slate-300 animate-slide-in-right",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full overflow-hidden border-2 border-slate-300 shadow-xl mb-3 sm:mb-4 md:mb-5 bg-gradient-to-br from-slate-200 to-slate-100 flex items-center justify-center",children:n.jsx("img",{src:"/amit-aggarwal-profile.jpg",alt:"Amit Aggarwal - Real Estate Expert",className:"w-full h-full object-cover",onError:_=>{const c=_.target;if(c.style.display="none",!c.parentElement?.querySelector(".fallback")){const w=document.createElement("div");w.className="fallback w-full h-full bg-gradient-to-br from-primary/20 to-primary/10 text-slate-700 flex items-center justify-center font-bold text-3xl",w.textContent="AA",c.parentElement?.appendChild(w)}}})}),n.jsx("h4",{className:"text-base sm:text-lg md:text-xl font-bold text-slate-900 text-center mb-1 sm:mb-1.5",children:"Amit Aggarwal"}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-700 text-center mb-5 sm:mb-6 md:mb-7 px-2",children:"Real Estate Expert | Licensed Agent"}),n.jsxs("div",{className:"w-full space-y-2 sm:space-y-2.5 mb-3 sm:mb-4 md:mb-5",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 mb-0.5 font-medium",children:"Phone"}),n.jsx("a",{href:"tel:+14129777090",className:"text-xs sm:text-sm font-semibold text-slate-900 hover:text-primary transition-colors touch-target block",children:"+1-412-977-7090"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 mb-0.5 font-medium",children:"Email"}),n.jsx("a",{href:"mailto:aggarwal_a@hotmail.com",className:"text-xs sm:text-sm font-semibold text-slate-900 break-all hover:text-primary transition-colors touch-target block",children:"aggarwal_a@hotmail.com"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 mb-0.5 font-medium",children:"Address"}),n.jsx("p",{className:"text-xs sm:text-sm font-semibold text-slate-900",children:"201 Sonni Ln"}),n.jsx("p",{className:"text-xs sm:text-sm font-semibold text-slate-900",children:"McKees Rocks, PA 15136"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 mb-0.5 font-medium",children:"Website"}),n.jsx("a",{href:"https://pittmetrorealty.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs sm:text-sm font-semibold text-slate-900 hover:text-primary transition-colors break-all touch-target block",children:"https://pittmetrorealty.com"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 pt-4 sm:pt-5 border-t border-slate-300 w-full justify-center",children:[n.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"group touch-target",children:n.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-slate-700 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-110",children:n.jsx("span",{className:"text-white text-xs sm:text-sm font-bold",children:"f"})})}),n.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"group touch-target",children:n.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-slate-700 rounded-full flex items-center justify-center hover:bg-blue-700 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-110",children:n.jsx("span",{className:"text-white text-xs sm:text-sm font-bold",children:"in"})})}),n.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"group touch-target",children:n.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 bg-slate-700 rounded-full flex items-center justify-center hover:bg-red-600 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-110",children:n.jsx("span",{className:"text-white text-xs sm:text-sm",children:""})})})]})]})})]})}),n.jsxs("div",{className:"mb-8 sm:mb-10 md:mb-12",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-10 animate-fade-in-up px-2",children:[n.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-3 sm:mb-4",children:"Our Core Values"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:"The principles that guide everything we do and every relationship we build."})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-5 md:gap-6 items-stretch",children:u.map((_,c)=>{const w=_.icon;return n.jsx(et,{className:"text-center p-4 sm:p-5 md:p-6 bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 animate-fade-in-up flex flex-col",style:{animationDelay:`${c*.1}s`},children:n.jsxs(xt,{className:"p-0",children:[n.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r ${_.color} rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-lg`,children:n.jsx(w,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-white"})}),n.jsx("h4",{className:"text-base sm:text-lg md:text-xl font-bold text-primary mb-2 sm:mb-3",children:_.title}),n.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground leading-relaxed",children:_.description})]})},_.title)})})]}),n.jsx("div",{className:"text-center animate-fade-in-up px-3 sm:px-4",children:n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-6 sm:p-7 md:p-8 shadow-lg border border-gray-100 max-w-4xl mx-auto",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-r from-primary to-primary/80 rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-4 sm:mb-5 md:mb-6",children:n.jsx(Ys,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-white"})}),n.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-4 sm:mb-5 md:mb-6",children:"Our Mission"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-muted-foreground leading-relaxed italic",children:`"To provide exceptional real estate services that exceed our clients' expectations, while building lasting relationships based on trust, integrity, and professional excellence. We are committed to helping our clients achieve their property goals with innovative solutions and personalized service."`}),n.jsx("div",{className:"mt-4 sm:mt-5 md:mt-6 flex justify-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-primary text-xs sm:text-sm md:text-base",children:[n.jsx(Ei,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),n.jsx("span",{className:"font-semibold",children:"Licensed  Insured  Trusted"})]})})]})})]})})},xa=()=>{const u=[{day:"Monday - Friday",hours:"9:00 AM - 6:00 PM"},{day:"Saturday",hours:"10:00 AM - 4:00 PM"},{day:"Sunday",hours:"By Appointment"}];return n.jsx("section",{id:"contact",className:"py-6 sm:py-8 md:py-10 bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-5 lg:px-6 max-w-6xl",children:[n.jsxs("div",{className:"text-center mb-5 sm:mb-6 md:mb-8 animate-fade-in-up",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-14 sm:h-14 md:w-18 md:h-18 bg-gradient-to-r from-primary to-primary/80 rounded-xl sm:rounded-2xl mb-4 sm:mb-5 md:mb-6 shadow-lg",children:n.jsx(tn,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-9 md:w-9 text-white"})}),n.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-2 sm:mb-3 md:mb-4 px-2",children:"Get In Touch"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed mb-4 sm:mb-6 px-4",children:"Ready to start your real estate journey? Contact our expert team for personalized assistance and professional guidance."}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2.5 sm:gap-3 md:gap-4 mb-4 sm:mb-6 px-2",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 text-gray-600 bg-white px-4 sm:px-5 md:px-6 py-2 sm:py-2.5 md:py-3 rounded-lg sm:rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 touch-target",children:[n.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 md:w-9 md:h-9 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(ne,{className:"w-3.5 w-3.5 sm:w-4 sm:h-4 md:w-4 md:h-4 text-primary"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:"4.9/5 Client Rating"}),n.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500",children:"Based on 500+ reviews"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5 text-gray-600 bg-white px-4 sm:px-5 md:px-6 py-2 sm:py-2.5 md:py-3 rounded-lg sm:rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 touch-target",children:[n.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 md:w-9 md:h-9 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Ei,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-4 md:h-4 text-green-600"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800",children:"Free Consultation"}),n.jsx("div",{className:"text-[9px] sm:text-[10px] text-gray-500",children:"No obligation required"})]})]})]})]}),n.jsx("div",{className:"max-w-6xl mx-auto w-full",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 md:gap-5 lg:gap-6 items-stretch",children:[n.jsx("div",{className:"animate-slide-in-left flex flex-col",children:n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 shadow-lg border border-gray-100 flex-1 flex flex-col",children:[n.jsxs("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-primary mb-2.5 sm:mb-3 md:mb-4 flex items-center gap-2 sm:gap-2.5",children:[n.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 bg-gradient-to-r from-primary to-primary/80 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(ie,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4 text-white"})}),n.jsx("span",{children:"Contact Information"})]}),n.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground mb-3 sm:mb-4 md:mb-5 leading-relaxed",children:"We're here to help you with all your real estate needs. Reach out to us through any of the following channels, and we'll get back to you promptly."}),n.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[n.jsxs("h4",{className:"text-sm sm:text-base md:text-lg font-bold text-primary mb-2 sm:mb-2.5 flex items-center gap-2 sm:gap-2.5",children:[n.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Ur,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-white"})}),n.jsx("span",{children:"Office Hours"})]}),n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-lg sm:rounded-xl p-2.5 sm:p-3 md:p-4 border border-gray-200",children:u.map((_,c)=>n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center py-1.5 sm:py-2 border-b border-gray-200 last:border-b-0 gap-1 sm:gap-0",children:[n.jsx("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm",children:_.day}),n.jsx("span",{className:"text-gray-600 font-medium text-xs sm:text-sm",children:_.hours})]},_.day))})]}),n.jsxs("div",{className:"mb-4 sm:mb-5 md:mb-6",children:[n.jsxs("h4",{className:"text-sm sm:text-base md:text-lg font-bold text-primary mb-2 sm:mb-2.5 flex items-center gap-2 sm:gap-2.5",children:[n.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(se,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-white"})}),n.jsx("span",{children:"Our Location"})]}),n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-lg sm:rounded-xl p-2.5 sm:p-3 md:p-4 border border-gray-200",children:n.jsxs("div",{className:"space-y-1 sm:space-y-1.5",children:[n.jsx("p",{className:"text-gray-800 font-semibold text-xs sm:text-sm",children:"Pitt Metro Realty"}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"201 Sonni Ln McKees Rocks"}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Pittsburgh, PA 15136"}),n.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"United States"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs(Q,{onClick:()=>{window.location.href="tel:+14129777090"},className:"btn-primary flex items-center justify-center gap-2 touch-target text-xs sm:text-sm md:text-base px-4 sm:px-5 md:px-6 py-2.5 sm:py-3",children:[n.jsx(ie,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{children:"Call Now"})]}),n.jsxs(Q,{variant:"outline",onClick:()=>{window.location.href="mailto:info@pittmetrorealty.com"},className:"btn-outline flex items-center justify-center gap-2 touch-target text-xs sm:text-sm md:text-base px-4 sm:px-5 md:px-6 py-2.5 sm:py-3",children:[n.jsx(Ue,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),n.jsx("span",{children:"Send Email"})]})]})]})}),n.jsx("div",{className:"animate-slide-in-right flex flex-col",children:n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-5 md:p-6 shadow-lg border border-gray-100 flex-1 flex flex-col",children:[n.jsxs("div",{className:"text-center mb-3 sm:mb-4 md:mb-5",children:[n.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-r from-primary to-primary/80 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-2 sm:mb-3 md:mb-4 shadow-lg",children:n.jsx(ee,{className:"h-5 w-5 sm:h-6 sm:w-6 md:h-7 md:w-7 text-white"})}),n.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-primary mb-2 sm:mb-2.5",children:"Send Us a Message"}),n.jsx("p",{className:"text-xs sm:text-sm md:text-base text-muted-foreground px-4",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),n.jsxs("form",{className:"space-y-3 sm:space-y-4 md:space-y-5",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-5",children:[n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-primary",children:"First Name"}),n.jsx(St,{placeholder:"John",className:"form-input h-11 sm:h-12 md:h-14 text-xs sm:text-sm md:text-base touch-target"})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-primary",children:"Last Name"}),n.jsx(St,{placeholder:"Doe",className:"form-input h-11 sm:h-12 md:h-14 text-xs sm:text-sm md:text-base touch-target"})]})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-primary",children:"Email Address"}),n.jsx(St,{placeholder:"john@example.com",type:"email",className:"form-input h-11 sm:h-12 md:h-14 text-xs sm:text-sm md:text-base touch-target"})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-primary",children:"Phone Number"}),n.jsx(St,{placeholder:"+1-412-977-7090",className:"form-input h-11 sm:h-12 md:h-14 text-xs sm:text-sm md:text-base touch-target"})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-primary",children:"Service Interested In"}),n.jsxs("select",{className:"form-input h-11 sm:h-12 md:h-14 text-xs sm:text-sm md:text-base touch-target",children:[n.jsx("option",{value:"",children:"Select a service"}),n.jsx("option",{value:"buy",children:"Buying a Property"}),n.jsx("option",{value:"sell",children:"Selling a Property"}),n.jsx("option",{value:"rent",children:"Renting a Property"}),n.jsx("option",{value:"manage",children:"Property Management"}),n.jsx("option",{value:"invest",children:"Investment Advisory"}),n.jsx("option",{value:"valuation",children:"Property Valuation"}),n.jsx("option",{value:"consultation",children:"General Consultation"})]})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-primary",children:"Message"}),n.jsx(Qs,{placeholder:"Tell us about your real estate needs, timeline, budget, or any specific questions you have...",className:"form-textarea min-h-[120px] sm:min-h-[140px] md:min-h-[160px] text-xs sm:text-sm md:text-base touch-target"})]}),n.jsxs(Q,{type:"submit",onClick:_=>{_.preventDefault();const c=_.currentTarget.closest("form");if(c){const w=new FormData(c),g=Object.fromEntries(w);console.log("Contact form submitted:",g),alert("Thank you! Your message has been sent. We will contact you soon."),c.reset()}},className:"w-full btn-primary h-12 sm:h-14 md:h-16 text-sm sm:text-base md:text-lg font-semibold touch-target min-h-[48px]",children:[n.jsx("span",{children:"Send Message"}),n.jsx(ee,{className:"h-5 w-5 sm:h-6 sm:w-6 ml-2 flex-shrink-0"})]})]})]})})]})})]})})},ga=()=>{const u=[{icon:Kr,href:"#",label:"Facebook"},{icon:Qr,href:"#",label:"Twitter"},{icon:Yr,href:"#",label:"Instagram"},{icon:Jr,href:"#",label:"LinkedIn"}],_=[{label:"Home",href:"/"},{label:"Buy Properties",href:"/buy"},{label:"Sell Properties",href:"/sell"},{label:"Rent Properties",href:"/rent"},{label:"Property Management",href:"/manage"},{label:"About Us",href:"#about"},{label:"Contact",href:"#contact"}],c=["Property Sales","Investment Advisory","Property Management","Market Analysis","Location Scouting","Mortgage Assistance","Property Valuation"];return n.jsx("footer",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white safe-bottom",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 md:px-5 lg:px-6 py-4 sm:py-5 md:py-6 w-full",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5 items-start",children:[n.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[n.jsx("div",{className:"mb-1 sm:mb-1.5",children:n.jsx(en,{size:"xl",theme:"dark"})}),n.jsx("p",{className:"text-white/55 mb-1.5 sm:mb-2 leading-snug text-xs sm:text-sm max-w-sm",children:"Your trusted partner in real estate excellence. Delivering exceptional service and results for over 15 years in Pittsburgh and surrounding areas."}),n.jsx("div",{className:"flex gap-1 sm:gap-1.5 flex-wrap mt-2",children:u.map((w,g)=>n.jsx("a",{href:w.href,className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 hover:bg-primary rounded-md flex items-center justify-center hover:text-white transition-all duration-150 group touch-target border border-white/10 hover:border-primary/50 shadow-sm hover:shadow-md hover:scale-105","aria-label":w.label,title:w.label,children:n.jsx(w.icon,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 group-hover:scale-110 transition-transform"})},g))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-[10px] sm:text-xs font-bold mb-1 sm:mb-1.5 text-white uppercase tracking-wider",children:"Quick Links"}),n.jsx("ul",{className:"space-y-0 sm:space-y-0.5",children:_.map(w=>n.jsx("li",{children:n.jsxs("a",{href:w.href,className:"text-white/55 hover:text-primary transition-all text-xs sm:text-sm hover:translate-x-0.5 transform duration-150 inline-flex items-center gap-1 touch-target py-0.5 group",children:[n.jsx("span",{className:"w-0.5 h-0.5 bg-primary/0 group-hover:bg-primary rounded-full transition-all duration-150"}),w.label]})},w.label))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-[10px] sm:text-xs font-bold mb-1 sm:mb-1.5 text-white uppercase tracking-wider",children:"Our Services"}),n.jsx("ul",{className:"space-y-0 sm:space-y-0.5",children:c.map(w=>n.jsx("li",{children:n.jsxs("span",{className:"text-white/55 hover:text-primary transition-colors text-xs sm:text-sm inline-flex items-center gap-1 cursor-pointer group",children:[n.jsx("span",{className:"w-0.5 h-0.5 bg-primary/0 group-hover:bg-primary rounded-full transition-all duration-150"}),w]})},w))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-[10px] sm:text-xs font-bold mb-1 sm:mb-1.5 text-white uppercase tracking-wider",children:"Contact Info"}),n.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[n.jsxs("a",{href:"tel:+14129777090",className:"flex items-start gap-1.5 sm:gap-1.5 hover:translate-x-0.5 transition-all touch-target group",children:[n.jsx("div",{className:"w-5 h-5 sm:w-5 sm:h-5 bg-white/10 group-hover:bg-primary/20 border border-white/20 group-hover:border-primary/50 rounded-md flex items-center justify-center flex-shrink-0 transition-all duration-150 shadow-sm group-hover:shadow",children:n.jsx(ie,{className:"h-2.5 w-2.5 sm:h-2.5 sm:w-2.5 text-white group-hover:text-primary transition-colors"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-xs sm:text-sm group-hover:text-primary transition-colors leading-tight",children:"+1-412-977-7090"}),n.jsx("p",{className:"text-white/45 text-[9px] sm:text-[10px] leading-tight",children:"Main Office"})]})]}),n.jsxs("a",{href:"mailto:aggarwal_a@hotmail.com",className:"flex items-start gap-1.5 sm:gap-1.5 hover:translate-x-0.5 transition-all touch-target group",children:[n.jsx("div",{className:"w-5 h-5 sm:w-5 sm:h-5 bg-white/10 group-hover:bg-primary/20 border border-white/20 group-hover:border-primary/50 rounded-md flex items-center justify-center flex-shrink-0 transition-all duration-150 shadow-sm group-hover:shadow",children:n.jsx(Ue,{className:"h-2.5 w-2.5 sm:h-2.5 sm:w-2.5 text-white group-hover:text-primary transition-colors"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-xs sm:text-sm break-all group-hover:text-primary transition-colors leading-tight",children:"aggarwal_a@hotmail.com"}),n.jsx("p",{className:"text-white/45 text-[9px] sm:text-[10px] leading-tight",children:"General Inquiries"})]})]}),n.jsxs("div",{className:"flex items-start gap-1.5 sm:gap-1.5",children:[n.jsx("div",{className:"w-5 h-5 sm:w-5 sm:h-5 bg-white/10 border border-white/20 rounded-md flex items-center justify-center flex-shrink-0 shadow-sm",children:n.jsx(se,{className:"h-2.5 w-2.5 sm:h-2.5 sm:w-2.5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-xs sm:text-sm leading-tight",children:"201 Sonni Ln"}),n.jsx("p",{className:"text-white font-medium text-xs sm:text-sm leading-tight",children:"McKees Rocks, PA 15136"})]})]})]})]})]}),n.jsx("div",{className:"border-t border-white/10 mt-2 sm:mt-2.5 pt-2 sm:pt-2.5",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-1 sm:gap-1.5",children:[n.jsx("p",{className:"text-white/35 text-[9px] sm:text-[10px] text-center md:text-left",children:" 2025 Pitt Metro Realty. All rights reserved."}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-1.5 text-[9px] sm:text-[10px]",children:[n.jsx("a",{href:"#",className:"text-white/35 hover:text-primary transition-colors touch-target py-0.5 px-0.5 hover:underline",children:"Privacy Policy"}),n.jsx("span",{className:"text-white/15",children:""}),n.jsx("a",{href:"#",className:"text-white/35 hover:text-primary transition-colors touch-target py-0.5 px-0.5 hover:underline",children:"Terms of Service"}),n.jsx("span",{className:"text-white/15",children:""}),n.jsx("a",{href:"#",className:"text-white/35 hover:text-primary transition-colors touch-target py-0.5 px-0.5 hover:underline",children:"Cookie Policy"})]})]})})]})})},_a=()=>{const[u,_]=D.useState(!1),[c,w]=D.useState([{id:"1",text:"Hello! I'm your AI assistant for Pitt Metro Realty. How can I help you today?",sender:"bot",timestamp:new Date,type:"text"}]),[g,f]=D.useState(""),[v,x]=D.useState(!1),[m,H]=D.useState(!0),z=D.useRef(null),E=()=>{z.current?.scrollIntoView({behavior:"smooth"})};D.useEffect(()=>{E()},[c]);const U=[{text:" Find Properties",action:"find_properties"},{text:" Contact Agent",action:"contact_agent"},{text:" Schedule Consultation",action:"schedule_consultation"},{text:" Pittsburgh Areas",action:"pittsburgh_areas"},{text:" Investment Properties",action:"investment_properties"},{text:" Mortgage Calculator",action:"mortgage_calculator"}],gt=["What properties are available in Robinson Township?","What are the current mortgage rates?","Tell me about Pittsburgh real estate market","How do I schedule a property viewing?","What documents do I need to buy a home?","How can I calculate my mortgage payments?"],G={find_properties:"I can help you find properties! We have listings in Robinson Township, Moon Township, and throughout Pittsburgh. Would you like to see properties in a specific area or price range?",pittsburgh_areas:`We specialize in Pittsburgh area properties, particularly:
 Robinson Township - Great for families, near shopping
 Moon Township - Close to airport, growing community
 Downtown Pittsburgh - Urban living
 Squirrel Hill - Historic neighborhood
 Shadyside - Trendy area with great amenities`,property_valuation:`I'd be happy to help with property valuation! Our free valuation service provides:
 Market analysis
 Comparable sales
 Price recommendations
 24-hour delivery

Would you like to schedule a free property valuation?`,contact_agent:`You can reach our team through:
 Phone: +1-412-977-7090
 Email: aggarwal_a@hotmail.com
 Office: 201 Sonni Ln, McKees Rocks, PA 15136

We're available Mon-Fri 9AM-7PM, Sat-Sun 10AM-5PM`,schedule_consultation:`I can help you schedule a consultation! We offer:
 Free initial consultation
 Personalized advice
 Market insights
 No obligation

Would you like to book a consultation?`,investment_properties:`Great question about investment properties! We have:
 Rental properties in Pittsburgh
 Multi-family homes
 Commercial properties
 Fix-and-flip opportunities

What type of investment are you interested in?`,mortgage_rates:`Current mortgage rates vary by loan type and credit score. For the most accurate rates, I recommend:
 Getting pre-approved
 Speaking with our mortgage partners
 Checking current market conditions

Would you like help connecting with a mortgage specialist?`,documents_needed:`To buy a home, you'll typically need:
 Pre-approval letter
 Proof of income (pay stubs, tax returns)
 Bank statements
 Credit report
 Down payment funds
 ID and social security number

Need help with any specific document?`,viewing_schedule:`To schedule a property viewing:
 Call us at +1-412-977-7090
 Use our online scheduling
 Email us your preferred times
 We can arrange same-day viewings

What property interests you?`,market_conditions:`Pittsburgh real estate market is currently:
 Strong buyer demand
 Limited inventory
 Competitive pricing
 Good investment opportunities
 Growing neighborhoods

Would you like specific market data for your area?`,default:`I understand you're interested in real estate. Let me help you with that! I can assist with:
 Finding properties
 Property valuations
 Market information
 Scheduling consultations
 Investment advice

What would you like to know more about?`},B=N=>{const j=N.toLowerCase();return j.includes("property")&&j.includes("find")?G.find_properties:j.includes("worth")||j.includes("value")||j.includes("valuation")?G.property_valuation:j.includes("contact")||j.includes("agent")||j.includes("phone")?G.contact_agent:j.includes("schedule")||j.includes("consultation")||j.includes("meeting")?G.schedule_consultation:j.includes("pittsburgh")||j.includes("area")||j.includes("location")?G.pittsburgh_areas:j.includes("investment")||j.includes("rental")||j.includes("commercial")?G.investment_properties:j.includes("mortgage")||j.includes("rate")||j.includes("loan")?G.mortgage_rates:j.includes("document")||j.includes("paperwork")||j.includes("need")?G.documents_needed:j.includes("viewing")||j.includes("tour")||j.includes("visit")?G.viewing_schedule:j.includes("market")||j.includes("condition")||j.includes("trend")?G.market_conditions:G.default},bt=N=>{if(!N.trim())return;const j={id:Date.now().toString(),text:N.trim(),sender:"user",timestamp:new Date,type:"text"};w(mt=>[...mt,j]),f(""),x(!0),H(!1),setTimeout(()=>{const mt=B(N),Wt={id:(Date.now()+1).toString(),text:mt,sender:"bot",timestamp:new Date,type:"text"};w(ae=>[...ae,Wt]),x(!1)},1e3+Math.random()*1e3)},re=N=>{const j=U.find(mt=>mt.action===N);j&&bt(j.text)},S=N=>{bt(N)},R=N=>N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return n.jsxs(n.Fragment,{children:[!u&&n.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:n.jsx(Q,{onClick:()=>_(!0),className:"w-16 h-16 rounded-full bg-gradient-to-r from-primary to-primary-light hover:from-primary-light hover:to-primary shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-110 animate-pulse-slow",children:n.jsx(tn,{className:"h-8 w-8 text-white"})})}),u&&n.jsxs("div",{className:"fixed bottom-6 right-6 z-50 w-96 h-[600px] bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-light p-4 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(ki,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg",children:"Pitt Metro AI"}),n.jsx("p",{className:"text-sm text-white/80",children:"Real Estate Assistant"})]})]}),n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>_(!1),className:"text-white hover:bg-white/20 p-2",children:n.jsx(We,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4 bg-gray-50",children:[c.map(N=>n.jsx("div",{className:`flex ${N.sender==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] ${N.sender==="user"?"order-2":"order-1"}`,children:n.jsxs("div",{className:`flex items-start gap-2 ${N.sender==="user"?"flex-row-reverse":"flex-row"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${N.sender==="user"?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-primary to-primary-light"}`,children:N.sender==="user"?n.jsx(Gr,{className:"h-4 w-4 text-white"}):n.jsx(ki,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{className:`rounded-2xl px-4 py-3 ${N.sender==="user"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-white text-gray-800 shadow-sm border border-gray-200"}`,children:[n.jsx("p",{className:"text-sm whitespace-pre-line",children:N.text}),n.jsx("p",{className:`text-xs mt-1 ${N.sender==="user"?"text-blue-100":"text-gray-500"}`,children:R(N.timestamp)})]})]})})},N.id)),v&&n.jsx("div",{className:"flex justify-start",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-primary-light flex items-center justify-center",children:n.jsx(ki,{className:"h-4 w-4 text-white"})}),n.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),n.jsx("div",{ref:z})]}),m&&c.length===1&&n.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Quick Actions"}),n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>H(!1),className:"p-1 h-6 w-6",children:n.jsx(We,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:U.map((N,j)=>n.jsx(Q,{variant:"outline",size:"sm",onClick:()=>re(N.action),className:"text-xs h-8 border-primary/20 text-primary hover:bg-primary/5",children:N.text},j))})]}),m&&c.length===1&&n.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Popular Questions"}),n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>H(!1),className:"p-1 h-6 w-6",children:n.jsx(We,{className:"h-3 w-3"})})]}),n.jsx("div",{className:"space-y-2",children:gt.map((N,j)=>n.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>S(N),className:"w-full text-left justify-start text-xs h-8 text-gray-600 hover:text-primary hover:bg-primary/5",children:N},j))})]}),n.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(St,{value:g,onChange:N=>f(N.target.value),placeholder:"Type your message...",className:"flex-1 border-2 border-gray-200 focus:border-primary rounded-xl",onKeyPress:N=>N.key==="Enter"&&bt(g)}),n.jsx(Q,{onClick:()=>bt(g),disabled:!g.trim(),className:"bg-gradient-to-r from-primary to-primary-light hover:from-primary-light hover:to-primary text-white px-4 rounded-xl",children:n.jsx(ee,{className:"h-4 w-4"})})]})})]})]})},Oa=()=>n.jsxs("div",{className:"min-h-screen",children:[n.jsx(ia,{}),n.jsx(na,{}),n.jsx(ra,{}),n.jsx(ha,{}),n.jsx(ca,{}),n.jsx(fa,{}),n.jsx(pa,{}),n.jsx(xa,{}),n.jsx(ga,{}),n.jsx(_a,{})]});export{Oa as default};
